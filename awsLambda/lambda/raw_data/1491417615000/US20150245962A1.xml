<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright ©2016 LexisNexis Univentio, The Netherlands. -->
<lexisnexis-patent-document schema-version="1.13" date-produced="20160127" file="US20150245962A1.xml" produced-by="LexisNexis-Univentio" lang="eng" date-inserted="20150903" time-inserted="021611" date-changed="20151223" time-changed="182828">
  <bibliographic-data lang="eng">
    <publication-reference publ-type="Application" publ-desc="Patent Application Publication">
      <document-id id="121141021">
        <country>US</country>
        <doc-number>20150245962</doc-number>
        <kind>A1</kind>
        <date>20150903</date>
      </document-id>
    </publication-reference>
    <application-reference appl-type="utility">
      <document-id>
        <country>US</country>
        <doc-number>14635674</doc-number>
        <date>20150302</date>
      </document-id>
    </application-reference>
    <application-series-code>14</application-series-code>
    <language-of-filing>eng</language-of-filing>
    <language-of-publication>eng</language-of-publication>
    <priority-claims date-changed="20150903">
      <priority-claim sequence="1" kind="national">
        <country>JP</country>
        <doc-number>2014040515</doc-number>
        <date>20140303</date>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability date-changed="20150910">
      <unexamined-printed-without-grant>
        <date>20150903</date>
      </unexamined-printed-without-grant>
    </dates-of-public-availability>
    <classifications-ipcr date-changed="20151223">
      <classification-ipcr sequence="1">
        <text>A61G   5/04        20130101AFI20150903BHUS        </text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>A</section>
        <class>61</class>
        <subclass>G</subclass>
        <main-group>5</main-group>
        <subgroup>04</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <action-date>
          <date>20150903</date>
        </action-date>
        <generating-office>
          <country>US</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>B25J   9/16        20060101ALI20150903BHUS        </text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>25</class>
        <subclass>J</subclass>
        <main-group>9</main-group>
        <subgroup>16</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <action-date>
          <date>20150903</date>
        </action-date>
        <generating-office>
          <country>US</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-ipcr>
    </classifications-ipcr>
    <classifications-cpc date-changed="20151223">
      <classification-cpc sequence="1">
        <text>A61G   5/04        20130101 FI20150903BHEP        </text>
        <cpc-version-indicator>
          <date>20130101</date>
        </cpc-version-indicator>
        <section>A</section>
        <class>61</class>
        <subclass>G</subclass>
        <main-group>5</main-group>
        <subgroup>04</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <action-date>
          <date>20150903</date>
        </action-date>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-cpc>
      <classification-cpc sequence="2">
        <text>A61G   5/06        20130101 LI20150924BHEP        </text>
        <cpc-version-indicator>
          <date>20130101</date>
        </cpc-version-indicator>
        <section>A</section>
        <class>61</class>
        <subclass>G</subclass>
        <main-group>5</main-group>
        <subgroup>06</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <action-date>
          <date>20150924</date>
        </action-date>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-cpc>
      <classification-cpc sequence="3">
        <text>A61G2203/72        20130101 LA20150924BHEP        </text>
        <cpc-version-indicator>
          <date>20130101</date>
        </cpc-version-indicator>
        <section>A</section>
        <class>61</class>
        <subclass>G</subclass>
        <main-group>2203</main-group>
        <subgroup>72</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <action-date>
          <date>20150924</date>
        </action-date>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-cpc>
      <classification-cpc sequence="4">
        <text>Y10S 901/01        20130101 LA20150903BHEP        </text>
        <cpc-version-indicator>
          <date>20130101</date>
        </cpc-version-indicator>
        <section>Y</section>
        <class>10</class>
        <subclass>S</subclass>
        <main-group>901</main-group>
        <subgroup>01</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <action-date>
          <date>20150903</date>
        </action-date>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
      </classification-cpc>
    </classifications-cpc>
    <number-of-claims calculated="yes">20</number-of-claims>
    <invention-title id="title_eng" date-changed="20150903" lang="eng" format="original">PASSENGER CARRYING MOBILE ROBOT</invention-title>
    <parties date-changed="20150903">
      <applicants>
        <applicant sequence="1" app-type="applicant" designation="us-only">
          <addressbook lang="eng">
            <orgname>Chiba Institute of Technology</orgname>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <residence>
            <country>JP</country>
          </residence>
        </applicant>
        <applicant sequence="2" app-type="applicant" designation="us-only">
          <addressbook lang="eng">
            <orgname>Aisin Seiki Kabushiki Kaisha</orgname>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <residence>
            <country>JP</country>
          </residence>
        </applicant>
      </applicants>
      <inventors>
        <inventor sequence="1" designation="us-only">
          <addressbook lang="eng">
            <last-name>Furuta</last-name>
            <first-name>Takayuki</first-name>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="2" designation="us-only">
          <addressbook lang="eng">
            <last-name>Shimizu</last-name>
            <first-name>Masaharu</first-name>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="3" designation="us-only">
          <addressbook lang="eng">
            <last-name>Yamato</last-name>
            <first-name>Hideaki</first-name>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="4" designation="us-only">
          <addressbook lang="eng">
            <last-name>Toda</last-name>
            <first-name>Kengo</first-name>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="5" designation="us-only">
          <addressbook lang="eng">
            <last-name>Kodachi</last-name>
            <first-name>Takashi</first-name>
            <address>
              <city>Narashino-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="6" designation="us-only">
          <addressbook lang="eng">
            <last-name>Ando</last-name>
            <first-name>Mitsuhiro</first-name>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="7" designation="us-only">
          <addressbook lang="eng">
            <last-name>Nagamine</last-name>
            <first-name>Noboru</first-name>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="8" designation="us-only">
          <addressbook lang="eng">
            <last-name>Yang</last-name>
            <first-name>Seongjun</first-name>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="9" designation="us-only">
          <addressbook lang="eng">
            <last-name>Ochiai</last-name>
            <first-name>Hirotoshi</first-name>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="10" designation="us-only">
          <addressbook lang="eng">
            <last-name>Takayanagi</last-name>
            <first-name>Wataru</first-name>
            <address>
              <city>Kariya-shi</city>
              <country>JP</country>
            </address>
          </addressbook>
        </inventor>
      </inventors>
    </parties>
    <patent-family date-changed="20150924">
      <main-family family-id="173464412">
        <family-member>
          <document-id>
            <country>JP</country>
            <doc-number>2015166891</doc-number>
            <kind>A</kind>
            <date>20150924</date>
          </document-id>
          <application-date>
            <date>20140303</date>
          </application-date>
        </family-member>
        <family-member>
          <document-id>
            <country>US</country>
            <doc-number>20150245962</doc-number>
            <kind>A1</kind>
            <date>20150903</date>
          </document-id>
          <application-date>
            <date>20150302</date>
          </application-date>
        </family-member>
      </main-family>
      <complete-family family-id="173464411">
        <family-member>
          <document-id>
            <country>JP</country>
            <doc-number>2015166891</doc-number>
            <kind>A</kind>
            <date>20150924</date>
          </document-id>
          <application-date>
            <date>20140303</date>
          </application-date>
        </family-member>
        <family-member>
          <document-id>
            <country>US</country>
            <doc-number>20150245962</doc-number>
            <kind>A1</kind>
            <date>20150903</date>
          </document-id>
          <application-date>
            <date>20150302</date>
          </application-date>
        </family-member>
      </complete-family>
    </patent-family>
  </bibliographic-data>
  <abstract id="abstr_eng" date-changed="20150903" lang="eng" format="original">
    <p id="p-a-00001-en" num="0000">A single passenger carrying mobile robot, includes a single operated member that is operated by a passenger to instruct both a moving direction and a moving speed of the passenger carrying mobile robot, a moving member configured to move the passenger carrying mobile robot and a controller configured to control the moving member based on input information input to the operated member by the passenger, wherein the passenger carrying mobile robot further includes a sensor that acquires obstacle information of a surrounding of the passenger carrying mobile robot, and the controller predicts an expected course of the passenger carrying mobile robot based on the input information and determines based on the obstacle information whether or not an obstacle is located in the expected course, and changes a control of the moving member when determining that the obstacle is located.</p>
  </abstract>
  <legal-data date-changed="20150918">
    <legal-event sequence="1">
      <publication-date>
        <date>20150303</date>
      </publication-date>
      <event-code-1>AS</event-code-1>
      <legal-description>ASSIGNMENT</legal-description>
      <status-identifier>N</status-identifier>
      <docdb-publication-number> US  2015245962A1</docdb-publication-number>
      <docdb-application-id>444207864</docdb-application-id>
      <new-owner>CHIBA INSTITUTE OF TECHNOLOGY, JAPAN</new-owner>
      <free-text-description>ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:FURUTA, TAKAYUKI;SHIMIZU, MASAHARU;YAMATO, HIDEAKI;AND OTHERS;SIGNING DATES FROM 20150210 TO 20150219;REEL/FRAME:035071/0665</free-text-description>
    </legal-event>
    <legal-event sequence="2">
      <publication-date>
        <date>20150303</date>
      </publication-date>
      <event-code-1>AS</event-code-1>
      <legal-description>ASSIGNMENT</legal-description>
      <status-identifier>N</status-identifier>
      <docdb-publication-number> US  2015245962A1</docdb-publication-number>
      <docdb-application-id>444207864</docdb-application-id>
      <new-owner>AISIN SEIKI KABUSHIKI KAISHA, JAPAN</new-owner>
      <free-text-description>ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:FURUTA, TAKAYUKI;SHIMIZU, MASAHARU;YAMATO, HIDEAKI;AND OTHERS;SIGNING DATES FROM 20150210 TO 20150219;REEL/FRAME:035071/0665</free-text-description>
    </legal-event>
  </legal-data>
  <description id="descr_eng" lang="eng" format="original" date-changed="20150903">
    <summary>
      <heading id="h-00001-en" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
      <p id="p-00001-en" num="0001">The present application claims the benefit of priority pursuant to 35 U.S.C. §119(a) to Japanese Patent Application No. 2014-40515, filed on Mar. 3, 2014, the entire disclosure of which is hereby incorporated herein by reference.</p>
      <heading id="h-00002-en" level="1">BACKGROUND</heading>
      <p id="p-00002-en" num="0002">1. Technical Field</p>
      <p id="p-00003-en" num="0003">Embodiments of the present invention generally relate to a passenger carrying mobile robot.</p>
      <p id="p-00004-en" num="0004">2. Related Art</p>
      <p id="p-00005-en" num="0005">A single passenger carrying mobile robot is already well known. A wheelchair can be given as an example of this passenger carrying mobile robot.</p>
      <p id="p-00006-en" num="0006">The passenger carrying mobile robot such as that above includes a single operated member that is operated by the passenger for instructing both the moving direction and the moving speed of the passenger carrying mobile robot, a moving member for moving the passenger carrying mobile robot, and a controller that controls the moving member based on the input information input to the operated member by the passenger. (JP-2003-220096-A).</p>
      <p id="p-00007-en" num="0007">In such a passenger carrying mobile robot, the operation is left to the passenger. Thus, in a circumstance where the safety of the passenger is lost due to the operation of the passenger, there is a need to reduce the passenger's risk.</p>
      <p id="p-00008-en" num="0008">The present invention has been made in view of the above conventional problem and it is therefore an objective of the present invention to realize a passenger carrying mobile robot that can reduce the passenger's risk.</p>
      <heading id="h-00003-en" level="1">SUMMARY</heading>
      <p id="p-00009-en" num="0009">Disclosed embodiments describe a single passenger carrying mobile robot, including</p>
      <p id="p-00010-en" num="0010">a single operated member that is operated by a passenger to instruct both a moving direction and a moving speed of the passenger carrying mobile robot,</p>
      <p id="p-00011-en" num="0011">a moving member configured to move the passenger carrying mobile robot, and</p>
      <p id="p-00012-en" num="0012">a controller that is configured to control the moving member based on input information input to the operated member by the passenger, wherein</p>
      <p id="p-00013-en" num="0000">the passenger carrying mobile robot further includes a sensor that acquires obstacle information of a surrounding of the passenger carrying mobile robot, and <br /> the controller <ul id="ul-00001-en" list-style="none"><li><ul id="ul-00002-en" list-style="none"><li>predicts an expected course of the passenger carrying mobile robot based on the input information and determines based on the obstacle information whether or not an obstacle is located in the expected course, and</li><li>changes a control of the moving member when determining that the obstacle is located.</li></ul></li></ul></p>
      <p id="p-00014-en" num="0015">Other characteristics of the present invention will become clear from the description in the detailed description of the invention and the drawings attached.</p>
    </summary>
    <description-of-drawings>
      <heading id="h-00004-en" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
      <p id="p-00015-en" num="0016">For a more complete understanding of the present invention and the advantages thereof, reference is now made to the following description taken in conjunction with the accompanying drawings wherein:</p>
      <p id="p-00016-en" num="0017">
        <figref>FIG. 1</figref> is a schematic diagram illustrating an external configuration of the wheelchair <b>10</b> of one embodiment of the present invention;</p>
      <p id="p-00017-en" num="0018">
        <figref>FIG. 2</figref> is a block diagram illustrating an internal configuration of the wheelchair <b>10</b>;</p>
      <p id="p-00018-en" num="0019">
        <figref>FIG. 3</figref> is a schematic diagram illustrating the appearance of the inclined joy stick <b>40</b> projected on an xy plane;</p>
      <p id="p-00019-en" num="0020">
        <figref>FIG. 4</figref> is a schematic diagram illustrating a conversion rule for converting (xjs, yjs) to (v, w);</p>
      <p id="p-00020-en" num="0021">
        <figref>FIG. 5</figref> is a flow diagram illustrating a risk reduction control;</p>
      <p id="p-00021-en" num="0022">
        <figref>FIG. 6</figref> is an explanatory diagram illustrating a determination method for determining whether or not an obstacle is located in an expected course;</p>
      <p id="p-00022-en" num="0023">
        <figref>FIG. 7</figref> shows schematic diagrams illustrating limit value setting rules;</p>
      <p id="p-00023-en" num="0024">
        <figref>FIG. 8</figref> is a table illustrating a grid configuration of an expected course according to a first modified example;</p>
      <p id="p-00024-en" num="0025">
        <figref>FIG. 9</figref> is a table illustrating a grid configuration of an expected course according to a second modified example;</p>
      <p id="p-00025-en" num="0026">
        <figref>FIG. 10</figref> is a table illustrating a grid configuration of an expected course according to a third modified example;</p>
      <p id="p-00026-en" num="0027">
        <figref>FIG. 11</figref> is a table illustrating a grid configuration of an expected course according to a fourth modified example;</p>
      <p id="p-00027-en" num="0028">
        <figref>FIG. 12</figref> is a table illustrating a grid configuration of an expected course according to fifth and sixth modified examples;</p>
      <p id="p-00028-en" num="0029">
        <figref>FIG. 13</figref> shows schematic diagrams illustrating limit value setting rules according to a seventh modified example;</p>
      <p id="p-00029-en" num="0030">
        <figref>FIG. 14</figref> shows schematic diagrams illustrating limit value setting rules according to an eighth modified example;</p>
      <p id="p-00030-en" num="0031">
        <figref>FIG. 15</figref> shows schematic diagrams illustrating limit value setting rules according to a ninth modified example;</p>
      <p id="p-00031-en" num="0032">
        <figref>FIG. 16</figref> is a block diagram illustrating an internal configuration of the wheelchair <b>10</b> having a display function and a notification function;</p>
      <p id="p-00032-en" num="0033">
        <figref>FIG. 17</figref> is an explanatory diagram illustrating a method of canceling a speed limit or an acceleration limit;</p>
      <p id="p-00033-en" num="0034">
        <figref>FIG. 18</figref> is an explanatory diagram illustrating another method of canceling a speed limit or an acceleration limit;</p>
      <p id="p-00034-en" num="0035">
        <figref>FIG. 19</figref> is an explanatory table illustrating a method of setting a threshold value; and</p>
      <p id="p-00035-en" num="0036">
        <figref>FIG. 20</figref> is an explanatory table illustrating a method of setting a weighting value.</p>
    </description-of-drawings>
    <detailed-desc>
      <heading id="h-00005-en" level="1">DETAILED DESCRIPTION</heading>
      <p id="p-00036-en" num="0037">At least the following matters will become clear from the description in the present specification and the attached drawings.</p>
      <p id="p-00037-en" num="0038">A single passenger carrying mobile robot, comprising</p>
      <p id="p-00038-en" num="0039">a single operated member that is operated by a passenger to instruct both a moving direction and a moving speed of the passenger carrying mobile robot,</p>
      <p id="p-00039-en" num="0040">a moving member configured to move the passenger carrying mobile robot, and</p>
      <p id="p-00040-en" num="0041">a controller that is configured to control the moving member based on input information input to the operated member by the passenger, wherein</p>
      <p id="p-00041-en" num="0000">the passenger carrying mobile robot further includes a sensor that acquires obstacle information of a surrounding of the passenger carrying mobile robot, and <br /> the controller </p>
      <p id="p-00042-en" num="0042">predicts an expected course of the passenger carrying mobile robot based on the input information and determines based on the obstacle information whether or not an obstacle is located in the expected course, and</p>
      <p id="p-00043-en" num="0043">changes a control of the moving member when determining that the obstacle is located.</p>
      <p id="p-00044-en" num="0044">According to the above case, a passenger carrying mobile robot that can reduce the passenger's risk can be realized.</p>
      <p id="p-00045-en" num="0045">Further, the controller may be made to predict the expected course in grid units of two dimensional polar coordinates with the passenger carrying mobile robot at a center and specifies in the grid units whether or not the obstacle is located.</p>
      <p id="p-00046-en" num="0046">According to the above case, an appropriate determination method in accordance with the distance from the passenger carrying mobile robot can be realized.</p>
      <p id="p-00047-en" num="0047">Furthermore, the controller may be made to perform the control such that at least one of the moving speed and an acceleration of the passenger carrying mobile robot does not exceed a predetermined value when determining that the obstacle is located.</p>
      <p id="p-00048-en" num="0048">According to the above case, collision at a high moving speed or at a highly accelerated state is avoided even if the passenger carrying mobile robot were to collide with an obstacle so that the passenger's risk is appropriately reduced.</p>
      <p id="p-00049-en" num="0049">Yet further still, the controller may be made to</p>
      <p id="p-00050-en" num="0050">specify based on the obstacle information a shortest distance to the obstacle located in the expected course and</p>
      <p id="p-00051-en" num="0051">change the predetermined value according to the shortest distance.</p>
      <p id="p-00052-en" num="0052">According to the above case, the appropriate speed and acceleration limit values can be set in accordance with the danger level so that the passenger's risk can be effectively reduced.</p>
      <p id="p-00053-en" num="0053">Even further still, the controller may be made to</p>
      <p id="p-00054-en" num="0054">respectively specify based on the obstacle information the shortest distance to the obstacle located in the expected course at two time points that are different from each other and</p>
      <p id="p-00055-en" num="0055">change the predetermined value according to a speed obtained based on two of the shortest distances.</p>
      <p id="p-00056-en" num="0056">According to the above case, the appropriate speed and acceleration limit values can be set in accordance with the danger level so that the passenger's risk can be effectively reduced.</p>
      <p id="p-00057-en" num="0057">Even further still, the controller may be made to</p>
      <p id="p-00058-en" num="0058">respectively specify based on the obstacle information the shortest distance to the obstacle located in the expected course at three time points that are different from each other and</p>
      <p id="p-00059-en" num="0059">change the predetermined value according to an acceleration obtained based on three of the shortest distances.</p>
      <p id="p-00060-en" num="0060">According to the above case, the appropriate speed and acceleration limit values can be set in accordance with the danger level so that the passenger's risk can be effectively reduced.</p>
      <p id="p-00061-en" num="0061">Even further still, the controller may be made to</p>
      <p id="p-00062-en" num="0062">respectively specify based on the respective obstacle information the shortest distance to the obstacle located in the expected course at two or three time points that are different from each other and</p>
      <p id="p-00063-en" num="0063">change the predetermined value according to a weighting function that has respectively weighted at least two variables among one of the shortest distance, a speed obtained based on two of the shortest distances, and an acceleration obtained based on three of the shortest distances.</p>
      <p id="p-00064-en" num="0064">According to the above case, the appropriate speed and acceleration limit values can be set in accordance with the danger level so that the passenger's risk can be effectively reduced.</p>
      <p id="p-00065-en" num="0065">Even further still, the controller</p>
      <p id="p-00066-en" num="0066">when determining that the obstacle is located, may be made to perform a speed and/or acceleration limiting process that performs the control such that at least one of the moving speed and the acceleration of the passenger carrying mobile robot does not exceed a predetermined value and</p>
      <p id="p-00067-en" num="0067">cancel the speed and/or acceleration limiting process after maintaining the speed and/or acceleration limiting process for a predetermined time, when determining that the obstacle is not located during the speed and/or acceleration limiting process.</p>
      <p id="p-00068-en" num="0068">According to the above case, the speed and acceleration limits can be canceled after confirming that safety has been secured due to enough passage of time.</p>
      <p id="p-00069-en" num="0069">Even further still, the controller may be made to</p>
      <p id="p-00070-en" num="0070">increase the predetermined value when the speed and/or acceleration limiting process is maintained for the predetermined time.</p>
      <p id="p-00071-en" num="0071">According to the above case, the speed and acceleration limits can be reduced along with the increased possibility on the confirmation of safety.</p>
      <p id="p-00072-en" num="0072">Even further still, the controller may be made to</p>
      <p id="p-00073-en" num="0073">obtain a linear assumed movement trace, from when the input information is input until a predetermined time has passed, based on the input information, and</p>
      <p id="p-00074-en" num="0074">set, as the expected course, all trace including grids in which the assumed movement trace is included and two side grids, positioned on both sides in a circumferential direction, of the trace including grids.</p>
      <p id="p-00075-en" num="0075">According to the above case, determination can be made on whether or not there is an obstacle located in the expected course, taking into consideration the width of the passenger carrying mobile robot.</p>
      <p id="p-00076-en" num="0076">Even further still, the controller may be made to change a number of grids of the two side grids according to a length of the assumed movement trace.</p>
      <p id="p-00077-en" num="0077">According to the above case, an expected course can be set taking into consideration the appropriateness of the turning ability of the passenger carrying mobile robot.</p>
      <p id="p-00078-en" num="0078">Even further still, the sensor is a first sensor, and the passenger carrying mobile robot includes a second sensor different from the first sensor, and</p>
      <p id="p-00079-en" num="0000">the controller may be made to</p>
      <p id="p-00080-en" num="0079">be capable of acquiring an actual moving speed of the passenger carrying mobile robot from the second sensor,</p>
      <p id="p-00081-en" num="0080">reset the assumed movement trace based on the actual movement speed acquired, and changes the number of grids of the two sides grids according to the length of the reset assumed movement trace.</p>
      <p id="p-00082-en" num="0081">According to the above case, an expected course appropriately taking into consideration the actual moving speed can be set.</p>
      <p id="p-00083-en" num="0082">Even further still, the controller may be made to set, as the expected course, all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the both sides in the circumferential direction of all the trace including grids, and</p>
      <p id="p-00084-en" num="0083">the number of grids of the two side grids may be a same for all of the trace including grids.</p>
      <p id="p-00085-en" num="0084">According to the above case, the passenger's risk can be appropriately reduced even when the obstacle detection accuracy of the sensor decreases at a location far from the passenger carrying mobile robot.</p>
      <p id="p-00086-en" num="0085">Even further still, the expected course may be set such that</p>
      <p id="p-00087-en" num="0086">a number of grids of a first two side grids positioned on the both sides in the circumferential direction of a first trace including grid is</p>
      <p id="p-00088-en" num="0087">less than a number of grids of a second two side grids positioned on the both sides in the circumferential direction, of a second trace including grid positioned at a location farther in a radial direction than the first trace including grid when seen from the passenger carrying mobile robot.</p>
      <p id="p-00089-en" num="0088">According to the above case, the passenger's risk can be appropriately reduced even when the obstacle detection accuracy of the sensor further decreases at a location far from the passenger carrying mobile robot.</p>
      <p id="p-00090-en" num="0089">Even further still, the expected course may be set such that</p>
      <p id="p-00091-en" num="0090">a number of grids of a first two side grids positioned on the both sides in the circumferential direction of a first trace including grid is</p>
      <p id="p-00092-en" num="0091">greater than a number of grids of a second two side grids positioned on the both sides in the circumferential direction, of a second trace including grid positioned at a location farther in a radial direction than the first trace including grid when seen from the passenger carrying mobile robot.</p>
      <p id="p-00093-en" num="0092">According to the above case, the passenger's risk can be appropriately reduced even when there is an obstacle at a location proximate the passenger carrying mobile robot.</p>
      <p id="p-00094-en" num="0093">Even further still, the controller may be made to</p>
      <p id="p-00095-en" num="0094">receive from the sensor the obstacle information as a group of points having three dimensional location information,</p>
      <p id="p-00096-en" num="0095">set a grid as the grid in which the obstacle is positioned when the group of points is projected on the two dimensional polar coordinates and a number of the group of points included in the grid exceeds a threshold value, and</p>
      <p id="p-00097-en" num="0096">the threshold value is changed according to a location in a radial direction of the grid.</p>
      <p id="p-00098-en" num="0097">According to the above case, the passenger's risk can be appropriately reduced even when the obstacle detection accuracy of the sensor decreases at a location far from the passenger carrying mobile robot.</p>
      <p id="p-00099-en" num="0098">Even further still, the controller may be made to</p>
      <p id="p-00100-en" num="0099">receive from the sensor the obstacle information as a group of points having three dimensional location information,</p>
      <p id="p-00101-en" num="0100">set, to each point of the group of points, a weighting value according to a location in a height direction of the point, and</p>
      <p id="p-00102-en" num="0101">set a grid as the grid in which the obstacle is positioned when the group of points is projected on the two dimensional polar coordinates and a total of the weighting values of the group of points included in the grid exceeds a threshold value.</p>
      <p id="p-00103-en" num="0102">According to the above case, a more appropriate determination relating to obstacles can be made by taking into consideration the significance (weight) of each point in the group of points.</p>
      <p id="p-00104-en" num="0103">Even further still, a display part that displays the expected course and the obstacle located in the expected course may be included.</p>
      <p id="p-00105-en" num="0104">According to the above case, the passenger's risk can be furthermore reduced since the passenger can appropriately recognize the expected course and the obstacle located in the expected course.</p>
      <p id="p-00106-en" num="0105">Even further still, a notifying part that notifies that the control has changed may be included.</p>
      <p id="p-00107-en" num="0106">According to the above case, the passenger's risk can be furthermore reduced since attention is drawn from the passenger.</p>
      <p id="p-00108-en" num="0107">Even further still, the passenger carrying mobile robot may be a wheelchair.</p>
      <p id="p-00109-en" num="0108">According to the above case, a wheelchair that can reduce the passenger's risk can be realized.</p>
      <heading id="h-00006-en" level="2">===Configuration Example of the Wheelchair <b>10</b>===</heading>
      <p id="p-00110-en" num="0109">One configuration example of the wheelchair <b>10</b> according to the present embodiment is described in detail below with reference to <figref>FIGS. 1 to 4</figref>.</p>
      <p id="p-00111-en" num="0110">
        <figref>FIG. 1</figref> is a schematic diagram illustrating an external configuration of the wheelchair <b>10</b>. <figref>FIG. 2</figref> is a block diagram illustrating an internal configuration of the wheelchair <b>10</b>. The description of <figref>FIGS. 3 and 4</figref> will be given later.</p>
      <p id="p-00112-en" num="0111">The electric wheelchair (simply called wheelchair <b>10</b>) as an example of a single passenger carrying mobile robot for carrying a single person includes a vehicle body <b>20</b>, moving members <b>30</b>, a joy stick <b>40</b> as an example of an operated member, a 3D laser range finder <b>50</b> (laser sensor) as an example of a sensor (first sensor), and a controller <b>60</b>.</p>
      <p id="p-00113-en" num="0112">The vehicle body <b>20</b> is the body of the wheelchair <b>10</b> and has a seat <b>20</b><i>a </i>and the like. Further, the vehicle body <b>20</b> has mounted thereto moving members <b>30</b>, a joy stick <b>40</b>, a 3D laser range finder <b>50</b>, a controller <b>60</b> and the like.</p>
      <p id="p-00114-en" num="0113">The moving members <b>30</b> are for allowing the wheelchair <b>10</b> to move. And the moving members <b>30</b> are equipped with wheels <b>32</b> and motors <b>36</b>.</p>
      <p id="p-00115-en" num="0114">The wheels <b>32</b> are configured so to be rotatable around the rotating shaft and the wheelchair <b>10</b> moves (travels) along with the rotation of the wheels <b>32</b>. The wheelchair <b>10</b> according to the present embodiment is equipped with two (right and left) drive wheels <b>33</b> and two (right and left) non-driven wheels <b>34</b> having diameters smaller than those of the drive wheels <b>33</b>.</p>
      <p id="p-00116-en" num="0115">The motor <b>36</b> is for rotating the wheels <b>32</b> (specifically, drive wheels <b>33</b>). Note that, the motors <b>36</b> (a total of two) are provided one for each of the two (right and left) drive wheels <b>33</b>.</p>
      <p id="p-00117-en" num="0116">The joy stick <b>40</b> is a single member that is operated by the passenger for instructing both the moving direction and the moving speed of the wheelchair <b>10</b>.</p>
      <p id="p-00118-en" num="0117">The joy stick <b>40</b> is in a state standing parallel to the z direction (the direction penetrating the plane of the paper in <figref>FIG. 3</figref>) when in an un-operated state. In other words, the position of the joy stick <b>40</b> coincides with the z axis. Note that the z axis direction is substantially parallel to the vertical direction with regard to the wheelchair <b>10</b>.</p>
      <p id="p-00119-en" num="0118">When the passenger operates (specifically, tilts) the joy stick <b>40</b>, the joy stick <b>40</b> is inclined as shown in <figref>FIG. 3</figref>. Here, <figref>FIG. 3</figref> is a schematic diagram illustrating the appearance of the inclined joy stick <b>40</b> projected on the xy plane. The joy stick <b>40</b> according to the present embodiment outputs the coordinates (xjs, yjs) shown in <figref>FIG. 3</figref> as the input information input to the joy stick <b>40</b>. In other words, the input information according to the present embodiment are the values of the x and y coordinates of the tip of the joy stick <b>40</b>, and these are the values that are to be output.</p>
      <p id="p-00120-en" num="0119">The 3D laser range finder <b>50</b> is for acquiring obstacle information around the wheelchair <b>10</b>. This 3D laser range finder <b>50</b> will be described later in detail.</p>
      <p id="p-00121-en" num="0120">The controller <b>60</b> is for controlling the moving members <b>30</b> based on the input information input to the joy stick <b>40</b> by the passenger.</p>
      <p id="p-00122-en" num="0121">In other words, the controller <b>60</b> according to the present embodiment receives the aforementioned xjs and yjs and respectively converts the xjs and yjs into the instructed straight advancing speed v (that is, the speed in the direction in which the wheelchair <b>10</b> is facing, in other words the speed toward the front direction) and the instructed turning speed w (the angular speed of rotation (circulation) with the direction normal to the ground surface (out-of-plane direction) as the center), respectively based on the conversion rule illustrated in <figref>FIG. 4</figref>.</p>
      <p id="p-00123-en" num="0122">
        <figref>FIG. 4</figref> is a schematic diagram illustrating a conversion rule for converting (xjs, yjs) into (v, w). As illustrated in <figref>FIG. 4</figref>, xjs is converted in proportion to the instructed straight advancing speed v, except at three dead zones (the dead zones are parts where the v does not change even though xjs changes). Note that, the present embodiment assumes a proportional (linear) conversion, however, it is not limited to such and can be a non-linear conversion. Similarly, yjs is converted in proportion to the instructed turning speed w, except at three dead zones (the dead zones are parts where the w does not change even though yjs changes). Note that, the present embodiment assumes a proportional (linear) conversion, however, it is not limited to such and can be a non-linear conversion.</p>
      <p id="p-00124-en" num="0123">Next, the controller <b>60</b> controls the aforementioned moving members <b>30</b> so that the straight advancing speed of the wheelchair <b>10</b> becomes the instructed straight advancing speed v converted from xjs, and the turning speed of the wheelchair <b>10</b> becomes the instructed turning speed w converted form yjs as well. Specifically, at first, the set of the instructed straight advancing speed v and the instructed turning speed w are converted to a set of the left drive wheel rotating speed lv of the left side drive wheel <b>33</b> and the right drive wheel rotating speed ry of the right side drive wheel <b>33</b> by a well known method. In other words, the speed in which the left and right drive wheels <b>33</b> are to be rotated for realizing the instructed straight advancing speed v and the instructed turning speed w is calculated. Note that, the turning of the wheelchair <b>10</b> according to this embodiment is realized by providing a difference in the speed of the right and left drive wheels <b>33</b>. And there is a need to increase the difference in the rotation speed between the left and right drive wheels <b>33</b> along with the increase in the instructed turning speed w.</p>
      <p id="p-00125-en" num="0124">And the controller <b>60</b> gives an instruction (that is, controls the current and voltage of the motor <b>36</b>) to the motor <b>36</b> such that the left side drive wheel <b>33</b> (right side drive wheel <b>33</b>) agrees with the left drive wheel rotating speed lv (right side drive wheel rotating speed rv).</p>
      <p id="p-00126-en" num="0125">Note that, the feedback control may be performed by monitoring the current (voltage) values of the motors <b>36</b> and the rotating speeds of the drive wheels <b>33</b>, and obtaining the differences between the instructed values of the current (voltage) and/or the drive wheel rotating speed for the differences to be fed back.</p>
      <heading id="h-00007-en" level="2">===Risk Reduction Control===</heading>
      <p id="p-00127-en" num="0126">As described above, the operation of such a wheelchair <b>10</b> is left to the passenger. Therefore, the passenger's risk needs to be reduced in a circumstance where the safety of the passenger is interrupted by the operation by the passenger.</p>
      <p id="p-00128-en" num="0127">And control for reducing the risk (called risk reducing control) is performed in response to the above needs in the wheelchair <b>10</b> according to the present embodiment. Such a risk reducing control is realized mainly by the controller <b>60</b>, specifically, by the controller <b>60</b> predicting the expected course along which the wheelchair <b>10</b> moves based on the aforementioned input information, determining whether or not an obstacle is located in the expected course based on the obstacle information acquired by the 3D laser range finder <b>50</b>, and changing the control (changing to the safe side) of the moving members <b>30</b> when determining that there is an obstacle located.</p>
      <p id="p-00129-en" num="0128">In the following description, a further specific description will be given with reference to <figref>FIGS. 5 to 7</figref>. <figref>FIG. 5</figref> is a flow diagram illustrating a risk reduction control. <figref>FIG. 6</figref> is an explanatory diagram illustrating a determination method for determining whether or not an obstacle is located in an expected course. <figref>FIG. 7</figref> is a schematic diagram illustrating the limit value setting rules.</p>
      <p id="p-00130-en" num="0129">Here, <figref>FIG. 6</figref> describes two dimensional polar coordinates (non-rectangular grids), however in the following, the locations of the grids are described as &lt;r, θ&gt; for the sake of simplicity. Here, r does not indicate the distance but is a number (natural number) that indicates how many number of grids away from the wheelchair <b>10</b> in the radial direction it is. Further, θ does not indicate an angle but is a number (integer) that indicates how many grids away in the circumferential direction it is to the right (left). For example, θ=1 denotes the grid that is a single grid away to the right from the center line indicated with reference mark L, and θ=−1 denotes the gird that is a single grid away to the left from the center line. For example, in <figref>FIG. 6</figref>, the position of the grid indicated with reference mark A is &lt;21, −5&gt;. And, the position of the grid indicated with reference mark B is &lt;29, −3&gt;.</p>
      <p id="p-00131-en" num="0130">When the joy stick <b>40</b> is operated by the passenger so that the input information is input (Step S<b>1</b>), the controller <b>60</b> firstly predicts the expected course of the wheelchair <b>10</b> based on this input information (Step S<b>3</b>).</p>
      <p id="p-00132-en" num="0131">The prediction of the expected course is performed according to the following procedure. In other words, when the input information is input, the controller <b>60</b> obtains the linear assumed movement trace from when the input information is input until a predetermined time has passed, on the basis of the input information. In other words, this assumed movement trace is the path along which the wheelchair <b>10</b> moves when the input information (xjs, yjs) is continued to be input for the predetermined time (that is, when the instructed straight advancing speed v converted from xjs and the instructed turning speed w converted from yjs continue to be instructed for the predetermined time), and can be obtained by a well known method. An example of the assumed movement trace is shown with an arrow in <figref>FIG. 6</figref>.</p>
      <p id="p-00133-en" num="0132">Then the expected course is obtained based on the acquired assumed movement trace where the controller <b>60</b> in the present embodiment obtains, that is, predicts the expected course in grid units of the two dimensional polar coordinates, that is, circular polar coordinates with the wheelchair <b>10</b> at the center. In this way, the assumed movement trace is placed on the two dimensional polar coordinates as shown in <figref>FIG. 6</figref>. Thereafter, all the grids in which the assumed movement trace is included (called trace including grids) and the two side grids positioned on the two sides in the circumferential direction of the trace including grids are set as the expected course (the shaded parts in <figref>FIG. 6</figref>). Note that, the reason why not only the trace including grids but the grids on the two sides were set as the expected course in this way, is to allow judgment on whether or not there is an obstacle located in the expected course while taking into consideration the width of the wheelchair <b>10</b>.</p>
      <p id="p-00134-en" num="0133">Further in the present embodiment, all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of all the trace including grids are set as the expected course. And the number (two in the present embodiment, however, the number may be four or more depending on, for example, the aforementioned width) of grids on the two sides is set to be the same for all the trace including grids. In other words, the grid adjacent on the right side and the grid adjacent on the left side are set as the two side grids for all the trace including grids. Thus three grids arranged in the circumferential direction configure the expected course at all locations in the radial direction.</p>
      <p id="p-00135-en" num="0134">In the present embodiment, the length of a single grid in the radial direction is set to 25 centimeters and the angle of a single grid in the circumferential direction is set to five degrees, however, it is not limited to such and other values can be set accordingly.</p>
      <p id="p-00136-en" num="0135">Also, the controller <b>60</b>, together with the prediction of the expected course, specifies the location of the obstacle based on the obstacle information acquired by the 3D laser range finder <b>50</b> (Step S<b>5</b>).</p>
      <p id="p-00137-en" num="0136">Description of the 3D laser range finder <b>50</b> will be given here. The 3D laser range finder <b>50</b> is for acquiring the obstacle information around the wheelchair <b>10</b>. Specifically, the distance to the matter (obstacle) is obtained based on the time from when a laser is projected radially (three dimensionally) until the laser comes back after hitting the matter (obstacle). And the three dimensional coordinates (three dimensional location information) of the matter (obstacle) can be identified (acquired) since the distance to the matter (obstacle) can be obtained.</p>
      <p id="p-00138-en" num="0137">This 3D laser range finder <b>50</b> acquires the obstacle information at a predetermined sampling interval. And the controller <b>60</b> receives from the 3D laser range finder <b>50</b> obstacle information as a group of points having three dimensional location information of a timing similar to the timing when the prediction of the expected course is made. This “timing similar” here does not mean that there is no time difference at all but is a concept including a slight time difference.</p>
      <p id="p-00139-en" num="0138">And in the present embodiment, the controller <b>60</b> specifies whether or not an obstacle is located in grid units of the aforementioned two dimensional polar coordinates. And for such reason, when projecting on the two dimensional polar coordinates the aforementioned group of points of the three dimensional coordinates, the grid including the number of projected group of points exceeding the threshold value (e.g., ten) is set as the grid (hereinafter called obstacle grid for the sake of simplicity) in which the obstacle is positioned.</p>
      <p id="p-00140-en" num="0139">Next, the controller <b>60</b> determines whether an obstacle is located in the expected course (Step S<b>7</b>). Specifically, the controller <b>60</b> determines whether there is an obstacle grid existing in the expected course (group of grids) that is composed of the trace including grids and the grids on the two sides thereof.</p>
      <p id="p-00141-en" num="0140">Further, when determining that an obstacle is located in the expected course, the controller <b>60</b> also specifies the distance shortest to the obstacle located in the expected course (step S<b>9</b>).</p>
      <p id="p-00142-en" num="0141">Here, the determination of the shortest distance may be made for each of the group of points projected on the two dimensional polar coordinates, but is made in grid units for obtaining the benefits of a simplified computation in the present embodiment.</p>
      <p id="p-00143-en" num="0142">Description of an example will be given with reference to <figref>FIG. 6</figref>. Supposing for example, grids A and B in <figref>FIG. 6</figref> were specified as obstacle grids in Step <b>5</b>. Since the locations of the grids A and B in this case respectively are &lt;21, −5&gt; and &lt;29, −3&gt;, as explained above, the distance of A is 21 whereas the distance of B is 29. Here the aforementioned shortest distance is distance <b>21</b> of grid A.</p>
      <p id="p-00144-en" num="0143">Then the control of the moving members <b>30</b> is changed when the controller <b>60</b> determines that an obstacle is located (Step <b>7</b>: YES). On the other hand, the control is not changed when the controller <b>60</b> determines that an obstacle is not located (Step: NO), that is, when there is no obstacle grid in the expected course (grid group). Specifically, the above control is performed on at least one of the moving speed and the acceleration of the wheelchair <b>10</b> (may be one or both in the present embodiment) so to not exceed the threshold value (Step S<b>11</b>). And this predetermined value is changed in accordance with the shortest distance specified in Step S<b>9</b>.</p>
      <p id="p-00145-en" num="0144">In other words, the controller <b>60</b> sets the speed and the acceleration limit values when an obstacle is determined to be located. And the moving members <b>30</b> are controlled (changes are made to the control) so that the speed does not exceed the speed limit value and the acceleration does not exceed the acceleration limit value. For example, if the instructed straight advancing speed v converted from xjs being the x coordinate of the joy stick <b>40</b> were to exceed the speed limit value, the instructed straight advancing speed v is replaced with the speed limit value to control the aforementioned moving members <b>30</b>. And if the acceleration (v<sub>n</sub>−v<sub>n−1</sub>)/t which is calculated using the instructed straight advancing speed v<sub>n </sub>and the instructed straight advancing speed v<sub>n−1 </sub>at time t before the sampling time were to exceed the acceleration limit value, the instructed straight advancing speed v<sub>n </sub>is replaced with a value that does not exceed the acceleration limit value to control the aforementioned moving members <b>30</b>.</p>
      <p id="p-00146-en" num="0145">The speed and the acceleration limit values are both set, for example, based on the limit value setting rules indicated in <figref>FIG. 7</figref>. And although there are four diagrams illustrated in <figref>FIG. 7</figref>, all of them are illustrated with the same horizontal axes and the vertical axes. That is, the horizontal axes indicate the danger level (distance in the present embodiment, where the shorter the distance, the greater the danger level), and the vertical axes indicate the speed limit value or the acceleration limit value.</p>
      <p id="p-00147-en" num="0146">The limit value setting rules are defined such that the speed (acceleration) limit value becomes smaller as the danger level increases (the distance becomes shorter) in all of the four diagrams.</p>
      <heading id="h-00008-en" level="2">===Effectiveness of the Wheelchair <b>10</b> According to the Present Embodiment===</heading>
      <p id="p-00148-en" num="0147">As explained above, the controller <b>60</b> of the wheelchair <b>10</b> according to the present embodiment predicts the expected course of the wheelchair <b>10</b> based on the aforementioned input information, determines whether there is an obstacle located in the expected course based on the obstacle information, and changes the control on the moving members <b>30</b> when an obstacle is determined to be located.</p>
      <p id="p-00149-en" num="0148">Therefore, the passenger's risk can be reduced as mentioned above.</p>
      <p id="p-00150-en" num="0149">Further in the present embodiment, the controller <b>60</b> predicts the expected course in grid units of the two dimensional polar coordinates with the wheelchair <b>10</b> at the center, and specifies whether or not there is an obstacle located in grid units.</p>
      <p id="p-00151-en" num="0150">And in such case, the size of the grids become smaller as the grids are located closer to the wheelchair <b>10</b> and become larger as the grids are located farther from the wheelchair <b>10</b>, as shown in <figref>FIG. 6</figref>. In other words, the number of grids per unit area is larger (the grid density is higher) for the grids located closer to the wheelchair <b>10</b> compared to those located farther from the wheelchair <b>10</b>.</p>
      <p id="p-00152-en" num="0151">Therefore, the grid density is higher at the closer locations where detailed determination is desired, whereas the grid density is lower at farther locations where rough determination will do (priority is rather placed on the simplicity of computation). In this way, an appropriate determination method can be realized in accordance with the distance from the wheelchair <b>10</b>.</p>
      <p id="p-00153-en" num="0152">Further, when the 3D laser range finder <b>50</b> is used as the sensor, the number of data that can be acquired per unit area (per unit volume when before projection) increases (the data density becomes higher) for locations closer to the wheelchair <b>10</b> than those farther therefrom since the laser is projected radially (three dimensionally). And as mentioned above, the density of the grids are higher for those at locations closer to the wheelchair <b>10</b> than those at locations farther, so that the number of data per grid can be made to accord between those at locations far and those at locations close.</p>
      <p id="p-00154-en" num="0153">And in the present embodiment, when the controller <b>60</b> determines that an obstacle is located, at least one of the moving speed and the acceleration of the wheelchair <b>10</b> is controlled from exceeding the threshold value. In other words, the controller <b>60</b> has set a speed limit value and an acceleration limit value.</p>
      <p id="p-00155-en" num="0154">For the reason above, even if the wheelchair <b>10</b> were to collide with an obstacle, collision at a high moving speed and/or high acceleration can be avoided so that the risk (i.e., damage) of the passenger can be reduced appropriately.</p>
      <p id="p-00156-en" num="0155">And the controller <b>60</b> of the present embodiment specifies the shortest distance to an obstacle located in the expected course on the basis of obstacle information and changes the aforementioned predetermined value according to this shortest distance. That is, the controller <b>60</b> changes the speed limit value and the acceleration limit value according to this shortest distance.</p>
      <p id="p-00157-en" num="0156">For such reason, appropriate speed and acceleration limit values can be set in accordance with the danger level and thus allowing to effectively reduce the passenger's risk.</p>
      <p id="p-00158-en" num="0157">Further, the controller <b>60</b> of the present embodiment obtains the assumed linear movement trace from when the aforementioned input information is input until a predetermined time has passed therefrom, based on the input information, and sets as the expected course all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of all the trace including grids.</p>
      <p id="p-00159-en" num="0158">Therefore, determination can be made on whether or not there is an obstacle located in the expected course, taking into consideration the width of the wheelchair <b>10</b> as mentioned above.</p>
      <p id="p-00160-en" num="0159">Furthermore, the controller <b>60</b> of the present embodiment sets all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of all the above trace including grids, as the expected course, and sets the number of grids on the two sides to be the same for all the trace including grids.</p>
      <p id="p-00161-en" num="0160">For this reason, the width (hereinafter, called circumferential width for the sake of convenience) in the circumferential direction of the expected course becomes wider as the position is located farther from the wheelchair <b>10</b>, as shown in <figref>FIG. 6</figref>. That is, determination on whether an obstacle is present or not is made while widening the circumferential width of the expected course as the distance from the wheelchair <b>10</b> increases. And therefore, this determination is made on the safer side for locations farther away from the wheelchair <b>10</b>.</p>
      <p id="p-00162-en" num="0161">And such determination method is effective for cases where the obstacle detection accuracy of the sensor (3D laser range finder <b>50</b> and other types of sensors that are used instead) decreases at locations far from the wheelchair <b>10</b>. In other words the passenger's risk can be appropriately reduced even when the obstacle detection accuracy of the sensor is reduced at locations far from the wheelchair <b>10</b>.</p>
      <heading id="h-00009-en" level="2">===Modified Examples of the Aforementioned Embodiment===</heading>
      <p id="p-00163-en" num="0162">Description of the modified examples of the aforementioned embodiment will be given in the following.</p>
      <heading id="h-00010-en" level="2">&lt;&lt;&lt;Modified Examples Relating to the Setting of the Expected Course&gt;&gt;&gt;</heading>
      <p id="p-00164-en" num="0163">In the aforementioned embodiment, all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of all the trace including grids were set as the expected course, and the number of grids on the two sides were set to be the same for all the trace including grids.</p>
      <p id="p-00165-en" num="0164">However, it is not limited to such and for example, all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of some of the trace including grids can be set as the expected course. And also, the number of grids on the two sides may differ according to the trace including grids.</p>
      <p id="p-00166-en" num="0165">In the following, specific examples will be given with reference to <figref>FIGS. 8 to 12</figref>. <figref>FIG. 8</figref> is a diagram illustrating a grid configuration of the expected course according to a first modified example. <figref>FIG. 9</figref> is a diagram illustrating a grid configuration of the expected course according to a second modified example. <figref>FIG. 10</figref> is a diagram illustrating a grid configuration of the expected course according to a third modified example. <figref>FIG. 11</figref> is a diagram illustrating a grid configuration of the expected course according to a fourth modified example. <figref>FIG. 12</figref> is a diagram illustrating a grid configuration of the expected course according to a fifth and sixth modified examples.</p>
      <heading id="h-00011-en" level="2">&lt;First Modified Example and Second Modified Example&gt;</heading>
      <p id="p-00167-en" num="0166">The first modified example is similar to the aforementioned embodiment on the point that all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the two sides, in the circumferential direction, of all the trace including grids are set as the expected course, however, differs from the aforementioned embodiment on the point that the number of grids on the two sides are set to differ according to the trace including grids. In other words, as shown in <figref>FIG. 8</figref>, for grids closer to the wheelchair <b>10</b> in the radial direction (i.e., grids whose r coordinate is smaller than N (a natural number)) has two grids on the two sides (one on each of the left and right sides), and for grids farther from the wheelchair <b>10</b> (i.e., grids whose r coordinates is equal and or greater than N) has four grid on the two sides (two on each of the left and right sides).</p>
      <p id="p-00168-en" num="0167">In other words, the expected course is set such that the number of grids (specifically two) of the first both side grids positioned on the two sides, in the circumferential direction, of the first trace including grid (i.e., grids whose r coordinate is smaller than N) is less than the number of grids (specifically four) of the second both side grids positioned on the two sides, in the circumferential direction, of the second trace including grid (i.e., grid whose r coordinate is N and greater) that is positioned at a location farther than the first trace including grids when seen radially from the wheelchair <b>10</b>.</p>
      <p id="p-00169-en" num="0168">And in such case, the width of the expected course in the circumferential direction is further widened at a location far from the wheelchair <b>10</b>, than the case illustrated in <figref>FIG. 6</figref>. Thus the first modified example is preferred to be used for a case where the obstacle detection accuracy of the sensor (3D laser range finder <b>50</b> and other types of sensors that are used instead) is further reduced at a location far from the wheelchair <b>10</b>. In other words, according to the first modified embodiment, the passenger's risk can be appropriately reduced even in the case where the accuracy of the sensor is further reduced at a location far from the wheelchair <b>10</b>.</p>
      <p id="p-00170-en" num="0169">Note that, the overall circumferential width of the expected course can be narrowed compared to the first modified example when the wheelchair <b>10</b> has a narrow width or when the passenger carrying mobile robot, other than the wheelchair <b>10</b>, has a narrow width.</p>
      <p id="p-00171-en" num="0170">The second modified example is an example assuming the above circumstances, and as illustrated in <figref>FIG. 9</figref>, the number of grids on the two sides is set to zero (i.e., no grids are provided on the two sides) for grids that are located closer (i.e., grids whose r coordinate is smaller than N) to the wheelchair <b>10</b> in the radial direction, and the number of grids on the two sides is set to two (one on each of the left and right sides) for grids that are located farther away (i.e., grid whose r coordinate is equal to N and greater) from the wheelchair <b>10</b>.</p>
      <p id="p-00172-en" num="0171">Note that, as can be easily understood from the above description, the “number of grids” of the grids on the two sides are zero, two, four and so on and thus the “number of grids” is a concept defined (a term that can be used) for also the case where there is no grid (when the grid number is zero) on the two sides.</p>
      <p id="p-00173-en" num="0172">And also in this case of the second modified example, the expected course is set such that the number of grids (specifically zero) on the two sides, in the circumferential direction, of the first grid of the first trace including grids (i.e., grids whose r coordinate is smaller than N) is less than the number of grids (specifically two) on the two sides, in the circumferential direction, of the second grid of the second trace including grids (i.e., grids whose r coordinate is equal to N and greater) that is positioned at a location radially farther from the wheelchair <b>10</b> than the first trace including grids, and thus there is an effect similar to the first modified example.</p>
      <heading id="h-00012-en" level="2">&lt;Third Modified Example and Fourth Modified Example&gt;</heading>
      <p id="p-00174-en" num="0173">Such as when the obstacle detecting accuracy of the sensor is relatively acceptable in also the location far from the wheelchair <b>10</b>, there are cases where the width of the expected course in the circumferential direction is preferred to be widened at locations close to the wheelchair <b>10</b> rather than making this width in the circumferential direction widened at locations far from the wheelchair <b>10</b>. In other words, since there is only a short time for bypassing an obstacle when the obstacle is located close to the wheelchair <b>10</b>, there are cases where it is preferable for a judgment, on whether or not an obstacle exists, to be made on the safe side at locations closer to the wheelchair <b>10</b>.</p>
      <p id="p-00175-en" num="0174">The third modified example is an example that assumes the above matter and as illustrated in <figref>FIG. 10</figref>, the number of grids on the two sides is set to eight (four on each of the left and right sides) for grids closer (i.e., grids whose r coordinate is smaller than N) to the wheelchair <b>10</b> in the radial direction, and the number of grids on the two sides is set to two (one on each of the left and right sides) for grids that are farther (i.e., grids whose r coordinate is N and greater) from the wheelchair <b>10</b>.</p>
      <p id="p-00176-en" num="0175">In other words, the expected course is set such that the number of grids (specifically eight) of the first two side grids positioned on both sides in the circumferential direction of the first trace including grid (i.e., grids whose r coordinate is smaller than N) is more than the number of grids (specifically two) of the second two side grids positioned on both sides in the circumferential direction of the second trace including grids (i.e., grids whose r coordinate is N and greater) that is positioned at a location radially farther from the wheelchair <b>10</b> than the first trace including grids.</p>
      <p id="p-00177-en" num="0176">And in this case, as mentioned above, the passenger's risk can be appropriately reduced even if there were an obstacle at a location close to the wheelchair <b>10</b>. Also, although there is no specific limit to the value of N, it is preferable that it is set as close (e.g., N=5) to the wheelchair <b>10</b> as possible.</p>
      <p id="p-00178-en" num="0177">Note that similar to the second modified example, an example assuming that the wheelchair <b>10</b> has a narrow width or the passenger carrying mobile robot, other than the wheelchair <b>10</b>, has a narrow width is illustrated in <figref>FIG. 11</figref> as the fourth modified example.</p>
      <heading id="h-00013-en" level="2">&lt;Fifth Modified Example&gt;</heading>
      <p id="p-00179-en" num="0178">As mentioned above, when the input information is input, the controller <b>60</b> obtains the assumed movement trace from when this input information is input until a predetermined time has passed therefrom on the basis of the input information. And this assumed movement path is the trail along which the wheelchair <b>10</b> follows when the input information (xjs, yjs) has been kept being input for the aforementioned predetermined time (that is, when the instructed straight advancing speed v converted from xjs and the instructed turning speed w converted from yjs has been kept being instructed for the predetermined time). Thus the assumed movement trace becomes longer as the input information xjs (i.e., instructed straight advancing speed v) is larger.</p>
      <p id="p-00180-en" num="0179">Meanwhile, it would be difficult for the wheelchair <b>10</b> to make a sharp turn when the moving speed of the wheelchair <b>10</b> is high compared to when the moving speed is low.</p>
      <p id="p-00181-en" num="0180">Therefore, the fifth modified example has the controller <b>60</b> change the number of grids on the two sides according to the length of the assumed movement trace. In other words the controller <b>60</b> reduces then number of grids on the two sides when the length of the assumed movement trace is long meaning that the movement speed is high and a sharp turn is difficult to be made, on the other hand increases the number of grids on the two sides when the length of the assumed movement trace is short meaning that the movement speed is low and a sharp turn can be easily made.</p>
      <p id="p-00182-en" num="0181">For example, as shown in <figref>FIG. 12</figref>, when the length “1” of the assumed movement trace is equal to L or greater, the numbers of grids on the two sides are all set to two regardless of the location of the grid in the radial direction, similar to the case shown in <figref>FIG. 6</figref>. And the controller <b>60</b> increases the numbers of grids on the two sides by two to be four when the length “1” of the assumed movement trace is shorter than L.</p>
      <p id="p-00183-en" num="0182">And in this case, an expected course appropriately taking into consideration the ease to turn the wheelchair <b>10</b> can be set, as mentioned above.</p>
      <p id="p-00184-en" num="0183">The number of grids may be changed by specifying the length of the assumed movement path and then comparing the length with the threshold value, as a specific way of controlling, but the number of grids may be changed by comparing to the threshold value the input information xjs or the instructed straight advancing speed v, instead of this length. These cases also fall under the category of the process of changing the number of grids on the two sides according to the length of the assumed movement trace.</p>
      <heading id="h-00014-en" level="2">&lt;Sixth Modified Example&gt;</heading>
      <p id="p-00185-en" num="0184">An example was given in the fifth modified example where the number of grids on the two sides was changed according to the length of the assumed movement trace, in other words, the instructed straight advancing speed v, however, there are cases where the actual movement speed greatly differs from the instructed straight advancing speed v. For example, there is a case where the actual moving speed is faster than the instructed straight advancing speed v when the wheelchair <b>10</b> moves along a downward slope.</p>
      <p id="p-00186-en" num="0185">Being the case, the sixth modified embodiment has provided to the wheelchair <b>10</b> a second sensor different from the 3D laser range finder <b>50</b> (first sensor) and acquires the actual moving speed of the wheelchair <b>10</b> with the second sensor. Then the assumed moving trace is reset based on the acquired actual moving speed and the number of grids of the aforementioned two side grids is changed according to the length of the reset assumed moving trace.</p>
      <p id="p-00187-en" num="0186">The second sensor may be a sensor that directly or indirectly detects (e.g., a sensor that monitors the current value or the voltage value of the motors <b>36</b>) the actual moving speed. And for example, the controller <b>60</b> resets the assumed movement trace based on the actual moving speed (not the instructed straight advancing speed v) when the difference between the actual moving speed and the instructed straight advancing speed v exceeds the threshold value. Therefore, for example, the length of the assumed movement trace is elongated by the resetting process when the wheelchair <b>10</b> moves along a downward slope.</p>
      <p id="p-00188-en" num="0187">Further the number of grids on the two sides are changed according to the length of this reset assumed movement trace in the same way as that in the fifth modified example (<figref>FIG. 12</figref>). Thus, for example, the number of grids is reduced when the wheelchair <b>10</b> moves along a downward slope.</p>
      <p id="p-00189-en" num="0188">And in this case, an expected course appropriately taking into consideration the actual moving speed can be set, as mentioned above.</p>
      <heading id="h-00015-en" level="2">&lt;&lt;&lt;Modified Example Relating to the Limit Value Setting Rule&gt;&gt;&gt;</heading>
      <p id="p-00190-en" num="0189">In the above embodiment, the aforementioned predetermined values (i.e., the speed limit value and the acceleration limit value) were changed according to the shortest distance to the obstacle located in the expected course. This will be called the present example for the sake of convenience. However, it is not limited to such and the changes can be made in accordance with other parameters.</p>
      <p id="p-00191-en" num="0190">Specific examples will be given with reference to <figref>FIG. 13</figref> to <figref>FIG. 15</figref> in the following. <figref>FIG. 13</figref> shows schematic diagrams illustrating the limit value setting rules according to a seventh modified example, <figref>FIG. 14</figref> shows schematic diagrams illustrating the limit value setting rules according to an eighth modified example, and <figref>FIG. 15</figref> shows schematic diagrams illustrating the limit value setting rules according to a ninth modified example.</p>
      <heading id="h-00016-en" level="2">&lt;Seventh Modified Example&gt;</heading>
      <p id="p-00192-en" num="0191">In the seventh modified example, the controller <b>60</b> specifies the shortest distance to the obstacle located in the expected course at two time points that are different from each other based on respective obstacle information, and the aforementioned predetermined value (speed limit value and acceleration limit value) is changed according to the speed obtained based on the two shortest distances.</p>
      <p id="p-00193-en" num="0192">For example, the controller <b>60</b> obtains the speed of the obstacle (d<sub>n−1</sub>−d<sub>n</sub>)/t from the shortest distance d<sub>n </sub>to the obstacle located in the expected course and the shortest distance d<sub>n−1 </sub>thereof at time t before this sampling time. Note that in this modified example, determination is not made on whether or not the obstacle related to the shortest distance d<sub>n </sub>is the same as the obstacle related to the shortest distance d<sub>n−1 </sub>for the sake of simplicity of the computation. In other words each of the shortest distances d<sub>n </sub>and d<sub>n−1 </sub>are specified independently. This holds true for the eighth and ninth modified examples. And the speed and acceleration limit values are set by applying this speed (d<sub>n−1</sub>−d<sub>n</sub>)/t to any one of the limit value setting rules indicated in <figref>FIG. 13</figref>.</p>
      <p id="p-00194-en" num="0193">There are four diagrams illustrated in <figref>FIG. 13</figref>, however, all of them have the same horizontal and vertical axes. In other words, the horizontal axes indicate the danger level (speed of the obstacle in the seventh modified example, and the danger level is raised along with the increase in the speed of the obstacle) and the vertical axes indicate the speed limit value or the acceleration limit value.</p>
      <p id="p-00195-en" num="0194">Additionally, the limit value setting rules are defined such that the speed limit value (acceleration limit value) is reduced when the danger level is high (speed is high) in all four diagrams.</p>
      <p id="p-00196-en" num="0195">And also in this case, similar to the present example, an appropriate speed limit value and an appropriate acceleration limit value can be set according to the danger level so that the passenger's risk can be effectively reduced.</p>
      <heading id="h-00017-en" level="2">&lt;Eighth Modified Example&gt;</heading>
      <p id="p-00197-en" num="0196">In the eighth modified example, the controller <b>60</b> specifies the shortest distance to the obstacle located in the expected course at three different time points based on the respective obstacle information, and the aforementioned predetermined values (the speed limit value and the acceleration limit value) are changed according to the acceleration obtained based on the three shortest distances.</p>
      <p id="p-00198-en" num="0197">For example, the controller <b>60</b> obtains the speed (d<sub>n−1</sub>−d<sub>n</sub>)/t, (d<sub>n−2</sub>−d<sub>n−1</sub>)/t of the obstacle using the shortest distance d<sub>n </sub>to the obstacle located in the expected course, the shortest distance d<sub>n−1 </sub>at time t before this sampling and the shortest distance d<sub>n−2 </sub>at further time t before this earlier sampling. And, the acceleration ((d<sub>n−2</sub>−d<sub>n−1</sub>)/t−d<sub>n−1</sub>−d<sub>n</sub>)/t)/t of the obstacle is obtained using the above two speeds.</p>
      <p id="p-00199-en" num="0198">Here, the speed limit value and the acceleration limit value are set by applying this acceleration ((d<sub>n−2</sub>−d<sub>n−1</sub>)/t−d<sub>n−1</sub>−d<sub>n</sub>)/t)/t to one of the limit value setting rules shown in <figref>FIG. 14</figref>.</p>
      <p id="p-00200-en" num="0199">The four diagrams shown in <figref>FIG. 14</figref> all have the same horizontal and vertical axes. In other words, the horizontal axes indicate the danger level (acceleration of the obstacle in the eighth modified example, and the danger level is raised along with the increase in the acceleration of the obstacle) and the vertical axes indicate the speed limit value or the acceleration limit value.</p>
      <p id="p-00201-en" num="0200">And the limit value setting rules are defined such that the speed limit value (acceleration limit value) is reduced when the danger level is high (acceleration is high) in all four diagrams.</p>
      <p id="p-00202-en" num="0201">And also in this case, similar to the present example, an appropriate speed limit value and an appropriate acceleration limit value can be set according to the danger level so that the passenger's risk can be effectively reduced.</p>
      <heading id="h-00018-en" level="2">&lt;Ninth Modified Example&gt;</heading>
      <p id="p-00203-en" num="0202">The controller <b>60</b> of the ninth modified example specifies the shortest distance to the obstacle located in the expected course at two or three time points (three time points in the present example) that are different from each other based on respective obstacle information, and the aforementioned predetermined values (speed limit value and acceleration limit value) are changed according to the weighting function being a function having weighted at least two variables (three (all) variables in this example) among the single shortest distance, the speed obtained based on two shortest distances, and the acceleration obtained based on the three shortest distances.</p>
      <p id="p-00204-en" num="0203">The controller <b>60</b> for example, specifies (obtains) the aforementioned shortest distance d<sub>n </sub>(shortest distance D in this example), speed (d<sub>n−1</sub>−d<sub>n</sub>)/t (speed V in this example), and acceleration ((d<sub>n−2</sub>−d<sub>n−1</sub>)/t−(d<sub>n−1</sub>−d<sub>n</sub>)/t)/t (acceleration A in this example), and generates the weighted average thereof (the weighted average has been given as an example of the weighting function, however, it is not limited to such). The weighted average is (w<sub>d</sub>×(D<sub>max</sub>−D)+w<sub>v</sub>×V+w<sub>a</sub>×A)/(w<sub>d</sub>+w<sub>v</sub>+w<sub>a</sub>). Here, D<sub>max </sub>is a constant and for example, is the maximum distance detectable by the 3D laser range finder <b>50</b>. The reason why only D is attached a minus sign is because the danger level is increased as the shortest distance becomes shorter, different from the speed and the acceleration.</p>
      <p id="p-00205-en" num="0204">And since this weighting average can be an index that indicates the danger level, the speed limit value and the acceleration limit value are set by applying this weighting average to any of the limit value setting rules shown in <figref>FIG. 15</figref>.</p>
      <p id="p-00206-en" num="0205">The four diagrams shown <figref>FIG. 14</figref> all have the same horizontal and vertical axes. In other words, the horizontal axes indicate the danger level (weighted average in the ninth modified example, and the danger level is raised along with the increase in the weighted average) and the vertical axes indicate the speed limit value or the acceleration limit value.</p>
      <p id="p-00207-en" num="0206">Additionally, the limit value setting rules are defined such that the speed limit value (acceleration limit value) is reduced when the danger level is high (the weighted average becomes large) in all four diagrams.</p>
      <p id="p-00208-en" num="0207">And in also such case, similar to the present example, an appropriate speed limit value and an appropriate acceleration limit value can be set according to the danger level so that the passenger's risk can be effectively reduced.</p>
      <heading id="h-00019-en" level="2">&lt;Regarding the Combination of Modified Examples and the Like&gt;</heading>
      <p id="p-00209-en" num="0208">Note that the limit value setting rules according to the aforementioned present example, the seventh modified example, the eight modified example and the ninth modified example can be used in combination. In other words, two or more of these examples can be used concurrently.</p>
      <p id="p-00210-en" num="0209">For example, when the limit value setting rule according to the present example is used concurrently with the limit value setting rule according to the seventh example, the speed limit value (acceleration limit value) according to the shortest distance and the speed limit value (acceleration limit value) according to the speed can be obtained. And in this example, a smaller (strict) speed limit value (acceleration limit value) is to be employed.</p>
      <heading id="h-00020-en" level="2">===Other Embodiments===</heading>
      <p id="p-00211-en" num="0210">The aforementioned embodiments are intended to facilitate the understanding of the present invention but are not intended to impose limitation on the interpretation of the present invention. It is a matter of course that the present invention can be altered or modified without departing from the spirit of the present invention, and also includes equivalents of the present invention. In particular, the following embodiment is also included in the present invention.</p>
      <p id="p-00212-en" num="0211">In the aforementioned embodiment, description was given with the joy stick <b>40</b> as an example of the single operated member operated by the passenger for instructing both the moving direction and the moving speed of the passenger carrying mobile robot, however, it is not limited to such. For example, a game controller, a mouse, a trackball or a touch panel may be used instead. Further, the “single operated member” means to exclude the case where a plurality of independent operated members is used when the passenger instructs the moving direction and the moving speed. Thus instructions given with a plurality of independent operated members (i.e., handle and axel) in an ordinary automobile is not included in the present invention.</p>
      <p id="p-00213-en" num="0212">Note that, the “single operated member” does not prohibit the operated part from being divided into two or more parts. For example, the joy stick <b>40</b> that is configured of two parts of a stick-like grip and a supporting part that movably supports the grip is included in the “single operated member”.</p>
      <p id="p-00214-en" num="0213">Further in the aforementioned embodiment, description was given with the wheels <b>32</b> as the moving members and the motors <b>36</b> for rotating the wheels <b>32</b>, however, it is not limited to such. For example, legs (feet) for walking may be used instead of the wheels <b>32</b>.</p>
      <p id="p-00215-en" num="0214">In this way, description was given with the wheelchair <b>10</b> as an example of the passenger carrying mobile robot in the aforementioned embodiment, however, it is not limited to such and a walking robot may do, for example. Note that as mentioned above, a so-called automobile is not included in the passenger carrying mobile robot.</p>
      <p id="p-00216-en" num="0215">Further, description was given in the aforementioned embodiment taking the 3D laser range finder <b>50</b> as an example of the sensor (first sensor), however, it is not limited such and a camera or a radar, for example, may do.</p>
      <p id="p-00217-en" num="0216">Furthermore, a display part (hereinafter called the display device <b>70</b>) that displays the aforementioned expected course and the obstacle that is located in the expected course may be included.</p>
      <p id="p-00218-en" num="0217">For example, an image such as that shown in <figref>FIG. 6</figref> may be made to be displayed at real time on the display device <b>70</b> such as a liquid display device. In this way, the passenger can appropriately recognize the expected course and the obstacle located in the expected course so that the passenger's risk can be further reduced.</p>
      <p id="p-00219-en" num="0218">Note that the image shown in <figref>FIG. 6</figref> has illustrated a linear assumed movement trace, however, this assumed movement trace need not be displayed on the display device <b>70</b>. And it is preferable for the obstacle grids attached with the reference marks A and B in the image shown in <figref>FIG. 6</figref> to be colored in a color different from the other grids that configure the expected course. Further the girds on the farther side in the radial direction with respect to the obstacle grid (i.e., all the grids whose e coordinate is the same as that of the obstacle grid and whose r coordinate is greater than that of the obstacle grid) are in a blind area which cannot be seen from the passenger and thus it is preferable that these grids are colored as the blind area in a color different from the other grids.</p>
      <p id="p-00220-en" num="0219">Further, the display device <b>70</b> may be a touch panel having a function of the aforementioned operated member. And the display device <b>70</b> may be provided to the front glass and the like in a state so to be overlaid on the scenery at the front side of the passenger carrying mobile robot.</p>
      <p id="p-00221-en" num="0220">The controller <b>60</b> changes the control on the moving member <b>30</b> when determining that an obstacle is located, but the wheelchair <b>10</b> may also have a notifying part that notifies that the control has been changed.</p>
      <p id="p-00222-en" num="0221">For example, when a speaker <b>80</b> is provided as the notifying part and when the aforementioned speed limit and/or the acceleration limit is set, this setting and/or the specific value thereof may be issued from the speaker <b>80</b>. Further, the shortest distance to the obstacle, the speed and the acceleration may be issued from the speaker <b>80</b>.</p>
      <p id="p-00223-en" num="0222">And when the speed limit and/or the acceleration limit is set, the settings and/or their specific values may be displayed on the display device <b>70</b> that is the notifying part. Further, the shortest distance to the obstacle, the speed and the acceleration may be displayed on the display part <b>70</b>.</p>
      <p id="p-00224-en" num="0223">When a vibration mechanism that vibrates the wheelchair (e.g., the main body of the wheelchair or the joy stick <b>40</b>), as the notifying part, is provided and the speed limit and/or acceleration limit is set, the settings may be notified by vibration. Further the level of the speed limit, the acceleration limit, the shortest distance to an obstacle, the speed and the acceleration can be notified by the strength of vibration.</p>
      <p id="p-00225-en" num="0224">The passenger is warned in such cases so that the passenger's risk can be further reduced.</p>
      <p id="p-00226-en" num="0225">An example of the wheelchair <b>10</b> having such a display function and a notification function is shown in the block diagram of <figref>FIG. 16</figref>, similar to <figref>FIG. 2</figref>.</p>
      <p id="p-00227-en" num="0226">As described above, when the controller <b>60</b> determines that an obstacle is located in the expected course, at least one of the moving speed and the acceleration of the wheelchair <b>10</b> is controlled from exceeding the predetermined value (such control is called the speed and/or acceleration limiting process for the sake of convenience, refer to Step S<b>7</b>: YES in <figref>FIG. 5</figref>), and on the other hand when the controller <b>60</b> determines that an obstacle is not located in the expected course when the speed and/or acceleration limiting process is being performed, this speed and/or acceleration limiting process may be cancelled after a predetermined time has passed after performing this speed and/or acceleration limiting process.</p>
      <p id="p-00228-en" num="0227">To be specific, when the controller <b>60</b> determines that an obstacle is not located in the expected course (assuming that this determination is made at t=0 in <figref>FIG. 17</figref>) in the state where the speed limit value (acceleration limit value) is set, the speed limit (acceleration limit) is not immediately cancelled but the speed limit (acceleration limit) is cancelled after a predetermined time (indicated as time T in <figref>FIG. 17</figref>) has passed. In this way, the speed limit value (acceleration limit value) is maintained even if an obstacle is not located in the expected course during this time T.</p>
      <p id="p-00229-en" num="0228">And hereby, the following benefits are obtained. Specifically, there may be a case where the passenger inclines the joy stick <b>40</b> for a moment to a direction different from that intended by the passenger during operation of the joy stick <b>40</b>. This may occur, for example, when the wheelchair <b>10</b> rocks because of the bumps on the ground. And in such case, there is a possibility that the state in which an obstacle is located in the expected course is moved to a state in which an obstacle is not located, however, the state can be returned at an instant to that having the obstacle located in the expected course when the passenger recovers to make the desired operation.</p>
      <p id="p-00230-en" num="0229">And when the speed limit value (acceleration limit value) is cancelled after a predetermined time has passed, the speed limit (acceleration limit) need not be cancelled in cases as that above. In other words, the speed limit and/or the acceleration limit can be cancelled after the security is confirmed along with the passing of sufficient time.</p>
      <p id="p-00231-en" num="0230">Further, the aforementioned predetermined value can be made to be increased when the predetermined value (speed limit value and/or the acceleration limit value) is maintained for a predetermined time.</p>
      <p id="p-00232-en" num="0231">To be specific, if the controller <b>60</b> determines that an obstacle is not located in the expected course when the speed limit value (acceleration limit value) is set (this determination is assumed to be made at t=0 in <figref>FIG. 18</figref>), as shown in <figref>FIG. 18</figref>, the speed limit (acceleration limit) is not immediately cancelled but the speed limit value (acceleration limit value) is gradually increased (i.e., the speed limit (acceleration limit) is gradually eased). And the speed limit (acceleration limit) is cancelled in the end after a predetermined time (indicated as time T in <figref>FIG. 18</figref>) has passed.</p>
      <p id="p-00233-en" num="0232">Hereby, the potential of the security is increased along with the passing of time (from t=0 to t=T) so that the speed limit (acceleration limit) can be eased as the potential of the security is increased.</p>
      <p id="p-00234-en" num="0233">It is a matter of course that a new speed limit value (acceleration limit value) is set when the controller <b>60</b> determines once again that an obstacle is located in the expected course during the time T, in the examples shown in <figref>FIGS. 17 and 18</figref>.</p>
      <p id="p-00235-en" num="0234">As mentioned above, the controller <b>60</b> according to the aforementioned embodiment receives from the 3D laser range finder <b>50</b> obstacle information as a group of points having three dimensional position information and sets a grid as the grid in which the obstacle is located when the number of group of points included in the grid, as a result of projecting a group of points on the two dimensional polar coordinates, exceeds a threshold value, however, this threshold may be changed according to the position of the grid in the radial direction.</p>
      <p id="p-00236-en" num="0235">For example, the grids located closer (i.e., grids whose r coordinate is smaller than N (natural number)) to the wheelchair <b>10</b> in the radial direction, as shown in <figref>FIG. 19</figref>, has set the threshold value to 10 and the grids located farther (i.e., grids whose r coordinate is equal to N and greater) from the wheelchair <b>10</b> has set the threshold value to five.</p>
      <p id="p-00237-en" num="0236">In other words, the threshold value is set such that the threshold value (specifically 10) of the first grid (i.e., grids whose r coordinate is smaller than N) is greater than the threshold value (specifically five) of the second grid (i.e., grids whose r coordinate is equal to and greater than N) that is positioned at a location farther from the first grid in the radial direction when seen from the wheelchair <b>10</b>.</p>
      <p id="p-00238-en" num="0237">And this setting method is effective for cases when the obstacle detecting accuracy of the sensor (3D laser range finder <b>50</b> and other types of sensors that are used instead) decreases at locations far from the wheelchair <b>10</b>. That is, determination on the obstacle grid can be easily performed for grids at farther locations than those at closer locations, when the threshold value is changed in the above manner, and thus determination on whether or not an obstacle is positioned is made on the safe side. Hereby, the passenger's risk can be appropriately reduced even when the obstacle detecting accuracy of the sensor decreases at locations far from the wheelchair <b>10</b>.</p>
      <p id="p-00239-en" num="0238">Note that, the changing of the threshold value according to the position of the grid in the radial direction can be performed in the following manner. In other words, a coefficient to be multiplied to the group of points included in the aforementioned grid is set and the product of this number of the group of points and the coefficient is compared to the threshold value. And the coefficient, not the threshold value (the threshold value is not changed), is changed according to the position of the grid in the radial direction. It is a matter of course that this method substantially does not differ from changing the threshold value and thus is within the range of the present invention that changes the threshold value according to the position in the radial direction of the grid.</p>
      <p id="p-00240-en" num="0239">Further as mentioned above, the controller <b>60</b> according to the aforementioned embodiment receives obstacle information as a group of points having three dimensional location position information from the 3D laser range finder <b>50</b>, however, a weighting value may be set, to each point in the group of points, according to the location in the height direction of the points, and may set a grid as the grid in which the obstacle is located when the total weighting values of the aforementioned group of points included in the grid, as a result of projecting a group of points on the two dimensional polar coordinates, exceeds the threshold value.</p>
      <p id="p-00241-en" num="0240">For example as shown in <figref>FIG. 20</figref>, scores (called weighting value for the sake of convenience) are set to each of the points according to the location (to be accurate, the location in the z axis direction when the group of points having three dimensional position information defined by the xyz axes are projected on two dimensional polar coordinates) in the vertical direction in which the group of points are located. When the height h of the point of the group of points (i.e., z coordinate) is smaller than N, the weighting value is set to “one” taking into consideration that the wheelchair <b>10</b> is assumed collide with an obstacle no matter who is on the wheelchair <b>10</b> and no matter what kind of posture the passenger is taking. On the other hand, when the height h (i.e., z coordinate) of the points of the group of points is equal to N or greater, the weighting value is set to <b>0</b>.<b>5</b> since there can be assumed cases where collision with an obstacle does not take place (e.g., cases of a child with a low seating height).</p>
      <p id="p-00242-en" num="0241">And the grid is set as the grid in which the obstacle is located when the total weighting values of the group of points included in the grid, that is, (number of group of points included in the grid and whose h is smaller than N)×1+(number of group of points included in the grid and whose h is equal to and greater than N)×0.5, as a result of projecting a group of points on then two dimensional polar coordinates, exceeds the threshold value.</p>
      <p id="p-00243-en" num="0242">In such case, a further appropriate determination on the obstacle can be made by taking into consideration the significance (weight) of each point in the group of points.</p>
    </detailed-desc>
  </description>
  <us-claim-statement>What is claimed is:</us-claim-statement>
  <claims id="claims_eng" lang="eng" format="original" date-changed="20150903">
    <claim num="1" id="clm-00001-en" independent="true">
      <claim-text>
        <b>1</b>. A single passenger carrying mobile robot, comprising:
<claim-text>a single operated member that is operated by a passenger to instruct both a moving direction and a moving speed of the passenger carrying mobile robot;</claim-text><claim-text>a moving member configured to move the passenger carrying mobile robot; and</claim-text><claim-text>a controller that is configured to control the moving member based on input information input to the operated member by the passenger, wherein</claim-text></claim-text>
      <claim-text>the passenger carrying mobile robot further includes a sensor that acquires obstacle information of a surrounding of the passenger carrying mobile robot, and</claim-text>
      <claim-text>the controller
<claim-text>predicts an expected course of the passenger carrying mobile robot based on the input information and determines based on the obstacle information whether or not an obstacle is located in the expected course, and</claim-text><claim-text>changes a control of the moving member when determining that the obstacle is located.</claim-text></claim-text>
    </claim>
    <claim num="2" id="clm-00002-en">
      <claim-text>
        <b>2</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00001-en">claim 1</claim-ref>, wherein
<claim-text>the controller predicts the expected course in grid units of two dimensional polar coordinates with the passenger carrying mobile robot at a center and specifies in the grid units whether or not the obstacle is located.</claim-text></claim-text>
    </claim>
    <claim num="3" id="clm-00003-en">
      <claim-text>
        <b>3</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00001-en">claim 1</claim-ref>, wherein
<claim-text>the controller performs the control such that at least one of the moving speed and an acceleration of the passenger carrying mobile robot does not exceed a predetermined value when determining that the obstacle is located.</claim-text></claim-text>
    </claim>
    <claim num="4" id="clm-00004-en">
      <claim-text>
        <b>4</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00003-en">claim 3</claim-ref>, wherein the controller
<claim-text>specifies based on the obstacle information a shortest distance to the obstacle located in the expected course and</claim-text><claim-text>changes the predetermined value according to the shortest distance.</claim-text></claim-text>
    </claim>
    <claim num="5" id="clm-00005-en">
      <claim-text>
        <b>5</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00003-en">claim 3</claim-ref>, wherein the controller
<claim-text>respectively specifies based on the obstacle information the shortest distance to the obstacle located in the expected course at two time points that are different from each other and</claim-text><claim-text>changes the predetermined value according to a speed obtained based on two of the shortest distances.</claim-text></claim-text>
    </claim>
    <claim num="6" id="clm-00006-en">
      <claim-text>
        <b>6</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00003-en">claim 3</claim-ref>, wherein the controller
<claim-text>respectively specifies based on the obstacle information the shortest distance to the obstacle located in the expected course at three time points that are different from each other and</claim-text><claim-text>changes the predetermined value according to an acceleration obtained based on three of the shortest distances.</claim-text></claim-text>
    </claim>
    <claim num="7" id="clm-00007-en">
      <claim-text>
        <b>7</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00003-en">claim 3</claim-ref>, wherein the controller
<claim-text>respectively specifies based on the respective obstacle information the shortest distance to the obstacle located in the expected course at two or three time points that are different from each other and</claim-text><claim-text>changes the predetermined value according to a weighting function that has respectively weighted at least two variables among one of the shortest distance, a speed obtained based on two of the shortest distances, and an acceleration obtained based on three of the shortest distances.</claim-text></claim-text>
    </claim>
    <claim num="8" id="clm-00008-en">
      <claim-text>
        <b>8</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00003-en">claim 3</claim-ref>, wherein the controller
<claim-text>when determining that the obstacle is located, performs a speed and/or acceleration limiting process that performs the control such that at least one of the moving speed and the acceleration of the passenger carrying mobile robot does not exceed a predetermined value and</claim-text><claim-text>cancels the speed and/or acceleration limiting process after maintaining the speed and/or acceleration limiting process for a predetermined time, when determining that the obstacle is not located during the speed and/or acceleration limiting process.</claim-text></claim-text>
    </claim>
    <claim num="9" id="clm-00009-en">
      <claim-text>
        <b>9</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00008-en">claim 8</claim-ref>, wherein the controller
<claim-text>increases the predetermined value when the speed and/or acceleration limiting process is maintained for the predetermined time.</claim-text></claim-text>
    </claim>
    <claim num="10" id="clm-00010-en">
      <claim-text>
        <b>10</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00002-en">claim 2</claim-ref>, wherein the controller
<claim-text>obtains a linear assumed movement trace, from when the input information is input until a predetermined time has passed, based on the input information, and</claim-text><claim-text>sets, as the expected course, all trace including grids in which the assumed movement trace is included and two side grids, positioned on both sides in a circumferential direction, of the trace including grids.</claim-text></claim-text>
    </claim>
    <claim num="11" id="clm-00011-en">
      <claim-text>
        <b>11</b>. The passenger carrying mobile robot according to claim 10, wherein the controller changes a number of grids of the two side grids according to a length of the assumed movement trace.</claim-text>
    </claim>
    <claim num="12" id="clm-00012-en">
      <claim-text>
        <b>12</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00011-en">claim 11</claim-ref>, wherein
<claim-text>the sensor is a first sensor, and the passenger carrying mobile robot includes a second sensor different from the first sensor, and</claim-text></claim-text>
      <claim-text>the controller
<claim-text>is capable of acquiring an actual moving speed of the passenger carrying mobile robot from the second sensor,</claim-text><claim-text>resets the assumed movement trace based on the actual movement speed acquired, and changes the number of grids of the two sides grids according to the length of the reset assumed movement trace.</claim-text></claim-text>
    </claim>
    <claim num="13" id="clm-00013-en">
      <claim-text>
        <b>13</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00010-en">claim 10</claim-ref>, wherein
<claim-text>the controller sets, as the expected course, all the trace including grids in which the assumed movement trace is included and the two side grids positioned on the both sides in the circumferential direction of all the trace including grids, and</claim-text><claim-text>the number of grids of the two side grids is a same for all of the trace including grids.</claim-text></claim-text>
    </claim>
    <claim num="14" id="clm-00014-en">
      <claim-text>
        <b>14</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00010-en">claim 10</claim-ref>, wherein the expected course is set such that
<claim-text>a number of grids of a first two side grids positioned on the both sides in the circumferential direction of a first trace including grid is</claim-text><claim-text>less than a number of grids of a second two side grids positioned on the both sides in the circumferential direction, of a second trace including grid positioned at a location farther in a radial direction than the first trace including grid when seen from the passenger carrying mobile robot.</claim-text></claim-text>
    </claim>
    <claim num="15" id="clm-00015-en">
      <claim-text>
        <b>15</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00010-en">claim 10</claim-ref>, wherein the expected course is set such that
<claim-text>a number of grids of a first two side grids positioned on the both sides in the circumferential direction of a first trace including grid is</claim-text><claim-text>greater than a number of grids of a second two side grids positioned on the both sides in the circumferential direction, of a second trace including grid positioned at a location farther in a radial direction than the first trace including grid when seen from the passenger carrying mobile robot.</claim-text></claim-text>
    </claim>
    <claim num="16" id="clm-00016-en">
      <claim-text>
        <b>16</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00002-en">claim 2</claim-ref>, wherein the controller
<claim-text>receives from the sensor the obstacle information as a group of points having three dimensional location information,</claim-text><claim-text>sets a grid as the grid in which the obstacle is positioned when the group of points is projected on the two dimensional polar coordinates and a number of the group of points included in the grid exceeds a threshold value, and</claim-text><claim-text>the threshold value is changed according to a location in a radial direction of the grid.</claim-text></claim-text>
    </claim>
    <claim num="17" id="clm-00017-en">
      <claim-text>
        <b>17</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00002-en">claim 2</claim-ref>, wherein the controller
<claim-text>receives from the sensor the obstacle information as a group of points having three dimensional location information,</claim-text><claim-text>sets, to each point of the group of points, a weighting value according to a location in a height direction of the point, and</claim-text><claim-text>sets a grid as the grid in which the obstacle is positioned when the group of points is projected on the two dimensional polar coordinates and a total of the weighting values of the group of points included in the grid exceeds a threshold value.</claim-text></claim-text>
    </claim>
    <claim num="18" id="clm-00018-en">
      <claim-text>
        <b>18</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00001-en">claim 1</claim-ref> including a display part that displays the expected course and the obstacle located in the expected course.</claim-text>
    </claim>
    <claim num="19" id="clm-00019-en">
      <claim-text>
        <b>19</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00001-en">claim 1</claim-ref> including a notifying part that notifies that the control has changed.</claim-text>
    </claim>
    <claim num="20" id="clm-00020-en">
      <claim-text>
        <b>20</b>. The passenger carrying mobile robot according to <claim-ref idref="clm-00001-en">claim 1</claim-ref>, wherein the passenger carrying mobile robot is a wheelchair.</claim-text>
    </claim>
  </claims>
  <drawings id="drawings" format="original">
    <figure num="1">
      <img he="N/A" wi="N/A" file="US20150245962A1_00001.PNG" alt="clipped image" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00000.TIF" />
    </figure>
    <figure num="2">
      <img he="N/A" wi="N/A" file="US20150245962A1_00002.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00001.TIF" />
    </figure>
    <figure num="3">
      <img he="N/A" wi="N/A" file="US20150245962A1_00003.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00002.TIF" />
    </figure>
    <figure num="4">
      <img he="N/A" wi="N/A" file="US20150245962A1_00004.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00003.TIF" />
    </figure>
    <figure num="5">
      <img he="N/A" wi="N/A" file="US20150245962A1_00005.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00004.TIF" />
    </figure>
    <figure num="6">
      <img he="N/A" wi="N/A" file="US20150245962A1_00006.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00005.TIF" />
    </figure>
    <figure num="7">
      <img he="N/A" wi="N/A" file="US20150245962A1_00007.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00006.TIF" />
    </figure>
    <figure num="8">
      <img he="N/A" wi="N/A" file="US20150245962A1_00008.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00007.TIF" />
    </figure>
    <figure num="9">
      <img he="N/A" wi="N/A" file="US20150245962A1_00009.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00008.TIF" />
    </figure>
    <figure num="10">
      <img he="N/A" wi="N/A" file="US20150245962A1_00010.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00009.TIF" />
    </figure>
    <figure num="11">
      <img he="N/A" wi="N/A" file="US20150245962A1_00011.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00010.TIF" />
    </figure>
    <figure num="12">
      <img he="N/A" wi="N/A" file="US20150245962A1_00012.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00011.TIF" />
    </figure>
    <figure num="13">
      <img he="N/A" wi="N/A" file="US20150245962A1_00013.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00012.TIF" />
    </figure>
    <figure num="14">
      <img he="N/A" wi="N/A" file="US20150245962A1_00014.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00013.TIF" />
    </figure>
    <figure num="15">
      <img he="N/A" wi="N/A" file="US20150245962A1_00015.PNG" alt="drawing sheet" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00014.TIF" />
    </figure>
    <figure num="16">
      <img he="N/A" wi="N/A" file="US20150245962A1_00016.PNG" alt="thumbnail image" img-content="drawing" img-format="png" original="US20150245962A1-20150903-D00000.TIF" />
    </figure>
  </drawings>
  <image file="US20150245962A1.PDF" type="pdf" size="1009051" pages="28" />
</lexisnexis-patent-document>