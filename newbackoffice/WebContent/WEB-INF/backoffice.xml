<Context path="/backoffice"
        docBase="backoffice"
        debug="0"
        reloadable="true"
    >
<!--
    <Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="127.0.0.1,198.17.173.*,193.131.215.169,145.36.124.49"/>
-->
<!--    <Logger className="org.apache.catalina.logger.FileLogger"
            prefix="backoffice_log"
            suffix=".txt"
            debug="0"
            verbosity="0"
            timestamp="true"/> -->

    <Logger className="org.apache.catalina.logger.SystemOutLogger"
            debug="5"
            trace="true"
            verbosity="0"
            timestamp="true"/>

    <Resource name="@access.pool.name@"
        type="javax.sql.DataSource"/>

    <ResourceParams name="@access.pool.name@">
        <parameter>
            <name>factory</name>
            <value>org.apache.commons.dbcp.BasicDataSourceFactory</value>
        </parameter>

        <!-- Maximum number of dB connections in pool. Make sure you
        configure your mysqld max_connections large enough to handle
        all of your db connections. Set to 0 for no limit.
        -->
        <parameter>
            <name>maxActive</name>
            <value>10</value>
        </parameter>

        <!-- Maximum number of idle dB connections to retain in pool.
        Set to 0 for no limit.
        -->
        <parameter>
            <name>maxIdle</name>
            <value>5</value>
        </parameter>

        <!-- Maximum time to wait for a dB connection to become available
        in ms, in this example 10 seconds. An Exception is thrown if
        this timeout is exceeded.  Set to -1 to wait indefinitely.
        -->
        <parameter>
            <name>maxWait</name>
            <value>10000</value>
        </parameter>

        <!-- Oracle dB username and password for dB connections  -->
        <parameter>
            <name>username</name>
            <value>@access.pool.username@</value>
        </parameter>

        <parameter>
            <name>password</name>
            <value>@access.pool.password@</value>
        </parameter>

        <!-- Class name for Oracle JDBC driver -->
        <parameter>
            <name>driverClassName</name>
            <value>@access.pool.driver@</value>
        </parameter>

        <!-- The JDBC connection url for connecting to your Oracle dB.
        The autoReconnect=true argument to the url makes sure that the
        mm.mysql JDBC Driver will automatically reconnect if mysqld closed the
        connection.  mysqld by default closes idle connections after 8 hours.
        -->
        <parameter>
            <name>url</name>
            <value>@access.pool.url@</value>
        </parameter>

        <parameter>
            <name>validationQuery</name>
            <value>SELECT COUNT(*) FROM DUAL</value>
        </parameter>

        <parameter>
            <name>removeAbandoned</name>
            <value>true</value>
        </parameter>
        <parameter>
            <name>removeAbandonedTimeout</name>
            <value>60</value>
        </parameter>
        <parameter>
            <name>logAbandoned</name>
            <value>true</value>
        </parameter>


    </ResourceParams>


    <Resource name="@data.pool.name@"
        type="javax.sql.DataSource"/>

    <ResourceParams name="@data.pool.name@">
        <parameter>
            <name>factory</name>
            <value>org.apache.commons.dbcp.BasicDataSourceFactory</value>
        </parameter>

        <!-- Maximum number of dB connections in pool. Make sure you
        configure your mysqld max_connections large enough to handle
        all of your db connections. Set to 0 for no limit.
        -->
        <parameter>
            <name>maxActive</name>
            <value>10</value>
        </parameter>

        <!-- Maximum number of idle dB connections to retain in pool.
        Set to 0 for no limit.
        -->
        <parameter>
            <name>maxIdle</name>
            <value>5</value>
        </parameter>

        <!-- Maximum time to wait for a dB connection to become available
        in ms, in this example 10 seconds. An Exception is thrown if
        this timeout is exceeded.  Set to -1 to wait indefinitely.
        -->
        <parameter>
            <name>maxWait</name>
            <value>10000</value>
        </parameter>

        <!-- Oracle dB username and password for dB connections  -->
        <parameter>
            <name>username</name>
            <value>@data.pool.username@</value>
        </parameter>

        <parameter>
            <name>password</name>
            <value>@data.pool.password@</value>
        </parameter>

        <!-- Class name for Oracle JDBC driver -->
        <parameter>
            <name>driverClassName</name>
            <value>@data.pool.driver@</value>
        </parameter>

        <!-- The JDBC connection url for connecting to your Oracle dB.
        The autoReconnect=true argument to the url makes sure that the
        mm.mysql JDBC Driver will automatically reconnect if mysqld closed the
        connection.  mysqld by default closes idle connections after 8 hours.
        -->
        <parameter>
            <name>url</name>
            <value>@data.pool.url@</value>
        </parameter>

        <parameter>
            <name>validationQuery</name>
            <value>SELECT COUNT(*) FROM DUAL</value>
        </parameter>

        <parameter>
            <name>removeAbandoned</name>
            <value>true</value>
        </parameter>
        <parameter>
            <name>removeAbandonedTimeout</name>
            <value>60</value>
        </parameter>
        <parameter>
            <name>logAbandoned</name>
            <value>true</value>
        </parameter>


    </ResourceParams>

    <Resource name="@token.pool.name@"
        type="javax.sql.DataSource"/>

    <ResourceParams name="@token.pool.name@">
        <parameter>
            <name>factory</name>
            <value>org.apache.commons.dbcp.BasicDataSourceFactory</value>
        </parameter>

        <!-- Maximum number of dB connections in pool. Make sure you
        configure your mysqld max_connections large enough to handle
        all of your db connections. Set to 0 for no limit.
        -->
        <parameter>
            <name>maxActive</name>
            <value>10</value>
        </parameter>

        <!-- Maximum number of idle dB connections to retain in pool.
        Set to 0 for no limit.
        -->
        <parameter>
            <name>maxIdle</name>
            <value>5</value>
        </parameter>

        <!-- Maximum time to wait for a dB connection to become available
        in ms, in this example 10 seconds. An Exception is thrown if
        this timeout is exceeded.  Set to -1 to wait indefinitely.
        -->
        <parameter>
            <name>maxWait</name>
            <value>10000</value>
        </parameter>

        <!-- Oracle dB username and password for dB connections  -->
        <parameter>
            <name>username</name>
            <value>@token.pool.username@</value>
        </parameter>

        <parameter>
            <name>password</name>
            <value>@token.pool.password@</value>
        </parameter>

        <!-- Class name for Oracle JDBC driver -->
        <parameter>
            <name>driverClassName</name>
            <value>@token.pool.driver@</value>
        </parameter>

        <!-- The JDBC connection url for connecting to your Oracle dB.
        The autoReconnect=true argument to the url makes sure that the
        mm.mysql JDBC Driver will automatically reconnect if mysqld closed the
        connection.  mysqld by default closes idle connections after 8 hours.
        -->
        <parameter>
            <name>url</name>
            <value>@token.pool.url@</value>
        </parameter>

        <parameter>
            <name>validationQuery</name>
            <value>SELECT COUNT(*) FROM DUAL</value>
        </parameter>

        <parameter>
            <name>removeAbandoned</name>
            <value>true</value>
        </parameter>
        <parameter>
            <name>removeAbandonedTimeout</name>
            <value>60</value>
        </parameter>
        <parameter>
            <name>logAbandoned</name>
            <value>true</value>
        </parameter>


    </ResourceParams>

  <!-- special HARDCODED pool for one connection for downloading customer information -->
    <Resource name="@xmlfeed.pool.name@"
        type="javax.sql.DataSource"/>

    <ResourceParams name="@xmlfeed.pool.name@">
        <parameter>
            <name>factory</name>
            <value>org.apache.commons.dbcp.BasicDataSourceFactory</value>
        </parameter>

        <!-- Maximum number of dB connections in pool. Make sure you
        configure your mysqld max_connections large enough to handle
        all of your db connections. Set to 0 for no limit.
        -->
        <parameter>
            <name>maxActive</name>
            <value>1</value>
        </parameter>

        <!-- Maximum number of idle dB connections to retain in pool.
        Set to 0 for no limit.
        -->
        <parameter>
            <name>maxIdle</name>
            <value>1</value>
        </parameter>

        <!-- Maximum time to wait for a dB connection to become available
        in ms, in this example 10 seconds. An Exception is thrown if
        this timeout is exceeded.  Set to -1 to wait indefinitely.
        -->
        <parameter>
            <name>maxWait</name>
            <value>10000</value>
        </parameter>

        <!-- Oracle dB username and password for dB connections  -->
        <parameter>
            <name>username</name>
            <value>@xmlfeed.pool.username@</value>
        </parameter>

        <parameter>
            <name>password</name>
            <value>@xmlfeed.pool.password@</value>
        </parameter>

        <!-- Class name for Oracle JDBC driver -->
        <parameter>
            <name>driverClassName</name>
            <value>@xmlfeed.pool.driver@</value>
        </parameter>

        <!-- The JDBC connection url for connecting to your Oracle dB.
        The autoReconnect=true argument to the url makes sure that the
        mm.mysql JDBC Driver will automatically reconnect if mysqld closed the
        connection.  mysqld by default closes idle connections after 8 hours.
        -->
        <parameter>
            <name>url</name>
            <value>@xmlfeed.pool.url@</value>
        </parameter>

        <parameter>
            <name>validationQuery</name>
            <value>SELECT COUNT(*) FROM DUAL</value>
        </parameter>

        <parameter>
            <name>removeAbandoned</name>
            <value>true</value>
        </parameter>
        <parameter>
            <name>removeAbandonedTimeout</name>
            <value>60</value>
        </parameter>
        <parameter>
            <name>logAbandoned</name>
            <value>true</value>
        </parameter>

  </ResourceParams>

</Context>
