<!--
    Context configuration file for the Emetrics Web App
-->

<Context path="/emetrics" docBase="emetrics" debug="5" reloadable="true" >

<!--
    <Logger className="org.apache.catalina.logger.FileLogger"
            prefix="localhost_emetrics_log."
            suffix=".txt"
            timestamp="true"/>

    <Logger className="org.apache.catalina.logger.SystemOutLogger"
            debug="5"
            trace="true"
            verbosity="0"
            timestamp="true"/>
-->


    <Resource auth="Container" type="javax.sql.DataSource"
        name="@jdbc.pool@"
				factory="@jdbc.factory@"
        driverClassName="@jdbc.driver@"
				url="@jdbc.url@"
				username="@jdbc.username@"
				password="@jdbc.password@"
				maxActive="@jdbc.maxconnections@"
				maxIdle="@jdbc.minconnections@"
				maxWait="10000"
				validationQuery="SELECT COUNT(*) FROM DUAL"
				removeAbandoned="true"
				removeAbandonedTimeout="60"
				logAbandoned="true"
        />
    <!-- Emetrics JNDI Config END -->

    <!-- Persistent Tomcat Sessions across restarts -->
    <Manager className="org.apache.catalina.session.PersistentManager"
        debug="0"
        saveOnRestart="true"
        maxActiveSessions="-1"
        minIdleSwap="-1"
        maxIdleSwap="-1"
        maxIdleBackup="-1">
          <Store className="org.apache.catalina.session.FileStore"/>
    </Manager>

</Context>
